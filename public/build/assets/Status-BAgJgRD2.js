import{u as F,j as t,e as A}from"./client-DWlEoVOe.js";import{c as P}from"./compiler-runtime-D9Fr3M0Q.js";import{P as U,S as W,a as K}from"./index-xbXHa66w.js";function J(d){const e=P.c(15),{candidates:r,searched:x,filters:l}=d,{props:c}=F(),s=c.flash;let g;e[0]===Symbol.for("react.memo_cache_sentinel")?(g=t.jsxs("div",{className:"mb-8 text-center",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white sm:text-3xl",children:"Status Pendaftaran"}),t.jsx("p",{className:"mt-2 text-gray-500 dark:text-gray-400",children:"Masukkan nomor pendaftaran dan NIK untuk melihat status"})]}),e[0]=g):g=e[0];let n;e[1]!==s?(n=s?.success&&t.jsx("div",{className:"mx-auto mb-6 max-w-xl rounded-xl border border-emerald-200 bg-emerald-50 p-4 text-sm text-emerald-700 dark:border-emerald-800 dark:bg-emerald-900/30 dark:text-emerald-300",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("svg",{className:"mt-0.5 h-5 w-5 shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"})}),t.jsx("span",{children:s.success})]})}),e[1]=s,e[2]=n):n=e[2];let m;e[3]!==s?(m=s?.error&&t.jsx("div",{className:"mx-auto mb-6 max-w-xl rounded-xl border border-red-200 bg-red-50 p-4 text-sm text-red-700 dark:border-red-800 dark:bg-red-900/30 dark:text-red-300",children:s.error}),e[3]=s,e[4]=m):m=e[4];let i;e[5]!==l?(i=t.jsx(E,{action:"/status",filters:l}),e[5]=l,e[6]=i):i=e[6];let a;e[7]!==r||e[8]!==x?(a=x&&t.jsx("div",{className:"mt-8",children:r.length===0?t.jsxs("div",{className:"mx-auto max-w-md rounded-2xl border border-gray-200 bg-white p-12 text-center dark:border-gray-700 dark:bg-gray-800",children:[t.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-red-50 dark:bg-red-900/20",children:t.jsx("svg",{className:"h-8 w-8 text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})})}),t.jsx("h3",{className:"text-lg font-semibold text-gray-700 dark:text-gray-300",children:"Data tidak ditemukan"}),t.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Pastikan nomor pendaftaran dan NIK yang Anda masukkan sudah benar."})]}):t.jsx("div",{className:"space-y-6",children:r.map(V)})}),e[7]=r,e[8]=x,e[9]=a):a=e[9];let o;return e[10]!==n||e[11]!==m||e[12]!==i||e[13]!==a?(o=t.jsx(U,{title:"Status Pendaftaran",children:t.jsxs("div",{className:"mx-auto max-w-5xl px-4 py-10 sm:px-6 lg:px-8",children:[g,n,m,i,a]})}),e[10]=n,e[11]=m,e[12]=i,e[13]=a,e[14]=o):o=e[14],o}function V(d){return t.jsx(R,{candidate:d},d.id)}function E(d){const e=P.c(42),{action:r,filters:x}=d,l=x?.registration_number??"",c=x?.nik??"";let s;e[0]!==l||e[1]!==c?(s={registration_number:l,nik:c},e[0]=l,e[1]=c,e[2]=s):s=e[2];const{data:g,setData:n,post:m,processing:i,errors:a}=A(s);let o;e[3]!==r||e[4]!==m?(o=function(D){D.preventDefault(),m(r)},e[3]=r,e[4]=m,e[5]=o):o=e[5];const b=o;let f;e[6]===Symbol.for("react.memo_cache_sentinel")?(f=t.jsxs("label",{className:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Nomor Pendaftaran ",t.jsx("span",{className:"text-red-400",children:"*"})]}),e[6]=f):f=e[6];let u;e[7]!==n?(u=M=>n("registration_number",M.target.value),e[7]=n,e[8]=u):u=e[8];let h;e[9]!==g.registration_number||e[10]!==u?(h=t.jsx("input",{type:"text",value:g.registration_number,onChange:u,placeholder:"PSB/2026/MI/0001",className:"w-full rounded-xl border border-gray-200 bg-gray-50 px-4 py-2.5 text-sm transition-colors focus:border-emerald-500 focus:bg-white focus:outline-none focus:ring-2 focus:ring-emerald-500/20 dark:border-gray-600 dark:bg-gray-700 dark:text-white"}),e[9]=g.registration_number,e[10]=u,e[11]=h):h=e[11];let p;e[12]!==a.registration_number?(p=a.registration_number&&t.jsx("p",{className:"mt-1 text-xs text-red-500",children:a.registration_number}),e[12]=a.registration_number,e[13]=p):p=e[13];let y;e[14]!==h||e[15]!==p?(y=t.jsxs("div",{children:[f,h,p]}),e[14]=h,e[15]=p,e[16]=y):y=e[16];let j;e[17]===Symbol.for("react.memo_cache_sentinel")?(j=t.jsxs("label",{className:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-300",children:["NIK Calon Santri ",t.jsx("span",{className:"text-red-400",children:"*"})]}),e[17]=j):j=e[17];let k;e[18]!==n?(k=M=>n("nik",M.target.value),e[18]=n,e[19]=k):k=e[19];let v;e[20]!==g.nik||e[21]!==k?(v=t.jsx("input",{type:"text",value:g.nik,onChange:k,placeholder:"16 digit NIK",maxLength:16,className:"w-full rounded-xl border border-gray-200 bg-gray-50 px-4 py-2.5 text-sm transition-colors focus:border-emerald-500 focus:bg-white focus:outline-none focus:ring-2 focus:ring-emerald-500/20 dark:border-gray-600 dark:bg-gray-700 dark:text-white"}),e[20]=g.nik,e[21]=k,e[22]=v):v=e[22];let N;e[23]!==a.nik?(N=a.nik&&t.jsx("p",{className:"mt-1 text-xs text-red-500",children:a.nik}),e[23]=a.nik,e[24]=N):N=e[24];let w;e[25]!==v||e[26]!==N?(w=t.jsxs("div",{children:[j,v,N]}),e[25]=v,e[26]=N,e[27]=w):w=e[27];let _;e[28]!==w||e[29]!==y?(_=t.jsx("div",{className:"p-6 sm:p-8",children:t.jsxs("div",{className:"space-y-4",children:[y,w]})}),e[28]=w,e[29]=y,e[30]=_):_=e[30];const $=i||!g.registration_number||!g.nik;let S;e[31]!==i?(S=i?t.jsxs(t.Fragment,{children:[t.jsxs("svg",{className:"h-4 w-4 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Mencari..."]}):t.jsxs(t.Fragment,{children:[t.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})}),"Cek Status"]}),e[31]=i,e[32]=S):S=e[32];let C;e[33]!==$||e[34]!==S?(C=t.jsx("div",{className:"border-t border-gray-100 bg-gray-50/50 px-6 py-4 dark:border-gray-700 dark:bg-gray-800/50 sm:px-8",children:t.jsx("button",{type:"submit",disabled:$,className:"flex w-full items-center justify-center gap-2 rounded-xl bg-gradient-to-r from-emerald-500 to-teal-600 px-6 py-3 text-sm font-bold text-white shadow-lg shadow-emerald-200/40 transition-all hover:from-emerald-600 hover:to-teal-700 hover:shadow-xl disabled:opacity-40 dark:shadow-emerald-900/20",children:S})}),e[33]=$,e[34]=S,e[35]=C):C=e[35];let L;e[36]!==_||e[37]!==C?(L=t.jsxs("div",{className:"overflow-hidden rounded-2xl border border-gray-100 bg-white shadow-sm dark:border-gray-700 dark:bg-gray-800",children:[_,C]}),e[36]=_,e[37]=C,e[38]=L):L=e[38];let I;return e[39]!==b||e[40]!==L?(I=t.jsx("form",{onSubmit:b,className:"mx-auto max-w-xl",children:L}),e[39]=b,e[40]=L,e[41]=I):I=e[41],I}function R(d){const e=P.c(32),{candidate:r}=d;let x;e[0]!==r.status?(x=W[r.status]??{label:r.status,color:"bg-gray-100 text-gray-600"},e[0]=r.status,e[1]=x):x=e[1];const l=x;let c;e[2]===Symbol.for("react.memo_cache_sentinel")?(c=t.jsx("p",{className:"text-xs font-medium text-gray-400",children:"No. Pendaftaran"}),e[2]=c):c=e[2];let s;e[3]!==r.registration_number?(s=t.jsxs("div",{children:[c,t.jsx("p",{className:"text-lg font-bold tracking-wide text-gray-900 dark:text-white",children:r.registration_number})]}),e[3]=r.registration_number,e[4]=s):s=e[4];const g=`inline-flex w-fit items-center rounded-full px-3 py-1 text-xs font-bold ${l.color}`;let n;e[5]!==l.label||e[6]!==g?(n=t.jsx("span",{className:g,children:l.label}),e[5]=l.label,e[6]=g,e[7]=n):n=e[7];let m;e[8]!==s||e[9]!==n?(m=t.jsxs("div",{className:"flex flex-col gap-3 border-b border-gray-100 bg-gray-50/50 px-6 py-4 sm:flex-row sm:items-center sm:justify-between dark:border-gray-700 dark:bg-gray-800/50",children:[s,n]}),e[8]=s,e[9]=n,e[10]=m):m=e[10];let i;e[11]!==r.name?(i=t.jsx(B,{label:"Nama Santri",value:r.name}),e[11]=r.name,e[12]=i):i=e[12];let a;e[13]!==r.institution.name?(a=t.jsx(B,{label:"Lembaga",value:r.institution.name}),e[13]=r.institution.name,e[14]=a):a=e[14];let o;e[15]!==r.admission_wave.name?(o=t.jsx(B,{label:"Gelombang",value:r.admission_wave.name}),e[15]=r.admission_wave.name,e[16]=o):o=e[16];let b;e[17]!==i||e[18]!==a||e[19]!==o?(b=t.jsxs("div",{className:"grid gap-4 text-sm sm:grid-cols-3",children:[i,a,o]}),e[17]=i,e[18]=a,e[19]=o,e[20]=b):b=e[20];let f;e[21]!==r.documents?(f=r.documents.length>0&&t.jsxs("div",{className:"mt-6",children:[t.jsx("h4",{className:"mb-3 text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Berkas"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:r.documents.map(Z)})]}),e[21]=r.documents,e[22]=f):f=e[22];let u;e[23]!==r.invoices?(u=r.invoices.length>0&&t.jsxs("div",{className:"mt-6 space-y-4",children:[t.jsx("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Invoice"}),r.invoices.map(T)]}),e[23]=r.invoices,e[24]=u):u=e[24];let h;e[25]!==b||e[26]!==f||e[27]!==u?(h=t.jsxs("div",{className:"p-6",children:[b,f,u]}),e[25]=b,e[26]=f,e[27]=u,e[28]=h):h=e[28];let p;return e[29]!==h||e[30]!==m?(p=t.jsxs("div",{className:"overflow-hidden rounded-2xl border border-gray-100 bg-white shadow-sm dark:border-gray-700 dark:bg-gray-800",children:[m,h]}),e[29]=h,e[30]=m,e[31]=p):p=e[31],p}function T(d){return t.jsx(z,{invoice:d},d.id)}function Z(d){return t.jsxs("span",{className:`inline-flex items-center gap-1.5 rounded-lg px-3 py-1.5 text-xs font-medium ${d.is_valid===!0?"bg-green-50 text-green-700 dark:bg-green-900/30 dark:text-green-300":d.is_valid===!1?"bg-red-50 text-red-700 dark:bg-red-900/30 dark:text-red-300":"bg-yellow-50 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-300"}`,children:[d.is_valid===!0?"✓":d.is_valid===!1?"✗":"⏳",d.file_type.replace(/_/g," ")]},d.id)}function B(d){const e=P.c(7),{label:r,value:x}=d;let l;e[0]!==r?(l=t.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:r}),e[0]=r,e[1]=l):l=e[1];let c;e[2]!==x?(c=t.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:x}),e[2]=x,e[3]=c):c=e[3];let s;return e[4]!==l||e[5]!==c?(s=t.jsxs("div",{children:[l,c]}),e[4]=l,e[5]=c,e[6]=s):s=e[6],s}function z(d){const e=P.c(30),{invoice:r}=d,x=r.status==="lunas",l=!!r.proof_path;let c;e[0]===Symbol.for("react.memo_cache_sentinel")?(c={proof:null},e[0]=c):c=e[0];const{data:s,setData:g,post:n,processing:m}=A(c);let i;e[1]!==s.proof||e[2]!==r.id||e[3]!==n?(i=function(){s.proof&&n(`/invoices/${r.id}/upload-proof`,{forceFormData:!0})},e[1]=s.proof,e[2]=r.id,e[3]=n,e[4]=i):i=e[4];const a=i;let o;e[5]!==r.code?(o=t.jsx("p",{className:"text-xs text-gray-400",children:r.code}),e[5]=r.code,e[6]=o):o=e[6];let b;e[7]!==r.amount?(b=K(r.amount),e[7]=r.amount,e[8]=b):b=e[8];let f;e[9]!==b?(f=t.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:b}),e[9]=b,e[10]=f):f=e[10];let u;e[11]!==o||e[12]!==f?(u=t.jsxs("div",{children:[o,f]}),e[11]=o,e[12]=f,e[13]=u):u=e[13];const h=`rounded-full px-3 py-1 text-xs font-bold ${x?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300":l?"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-300":"bg-red-100 text-red-600 dark:bg-red-900/30 dark:text-red-300"}`,p=x?"Lunas":l?"Menunggu Verifikasi":"Belum Lunas";let y;e[14]!==h||e[15]!==p?(y=t.jsx("span",{className:h,children:p}),e[14]=h,e[15]=p,e[16]=y):y=e[16];let j;e[17]!==u||e[18]!==y?(j=t.jsxs("div",{className:"flex items-center justify-between",children:[u,y]}),e[17]=u,e[18]=y,e[19]=j):j=e[19];let k;e[20]!==s.proof||e[21]!==a||e[22]!==l||e[23]!==x||e[24]!==m||e[25]!==g?(k=!x&&!l&&t.jsxs("div",{className:"mt-4 flex items-center gap-3",children:[t.jsxs("label",{className:"flex flex-1 cursor-pointer items-center gap-2 rounded-lg border-2 border-dashed border-gray-200 bg-white px-3 py-2.5 text-sm transition-colors hover:border-emerald-400 dark:border-gray-600 dark:bg-gray-800",children:[t.jsx("svg",{className:"h-4 w-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"})}),t.jsx("span",{className:"truncate text-gray-500",children:s.proof?.name||"Upload bukti transfer..."}),t.jsx("input",{type:"file",accept:".jpg,.jpeg,.png,.pdf",className:"hidden",onChange:N=>g("proof",N.target.files?.[0]??null)})]}),t.jsx("button",{type:"button",disabled:!s.proof||m,onClick:a,className:"shrink-0 rounded-lg bg-emerald-500 px-4 py-2.5 text-sm font-semibold text-white transition-colors hover:bg-emerald-600 disabled:opacity-40",children:m?"Mengunggah...":"Upload"})]}),e[20]=s.proof,e[21]=a,e[22]=l,e[23]=x,e[24]=m,e[25]=g,e[26]=k):k=e[26];let v;return e[27]!==j||e[28]!==k?(v=t.jsxs("div",{className:"rounded-xl border border-gray-100 bg-gray-50/50 p-4 dark:border-gray-700 dark:bg-gray-900/30",children:[j,k]}),e[27]=j,e[28]=k,e[29]=v):v=e[29],v}export{J as default};
