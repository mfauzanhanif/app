import{b as ae,u as te,e as le,j as a}from"./client-DWlEoVOe.js";import{c as U}from"./compiler-runtime-D9Fr3M0Q.js";import{a as re,P as se}from"./index-xbXHa66w.js";const Q=["Data Santri","Data Orang Tua","Upload Berkas"],ne=["","Akuntan","Apoteker","Arsitek","Bidan","Buruh","Buruh Harian Lepas","Dokter","Dosen","Guru","IRT","Karyawan BUMN/BUMD","Karyawan Swasta","Kepala/Perangkat Desa","Nelayan","Pedagang","Pelaut","Pensiunan","Perawat","Petani","Peternak","PNS","Polri","Seniman","Sopir","TNI","Wartawan","Wiraswasta","Tidak Bekerja","Lainnya"],ie=[{value:"",label:"— Pilih —"},{value:"<_500rb",label:"< Rp 500.000"},{value:"Rp. 500.000 - Rp. 1.000.000",label:"Rp 500.000 - Rp 1.000.000"},{value:"Rp. 1.000.000 - Rp. 3.000.000",label:"Rp 1.000.000 - Rp 3.000.000"},{value:"Rp. 3.000.000 - Rp. 5.000.000",label:"Rp 3.000.000 - Rp 5.000.000"},{value:"Rp. 5.000.000 - Rp. 10.000.000",label:"Rp 5.000.000 - Rp 10.000.000"},{value:"Rp. 10.000.000_>",label:"> Rp 10.000.000"}],oe=[{value:"",label:"— Pilih —"},{value:"sd",label:"SD / Sederajat"},{value:"smp",label:"SMP / Sederajat"},{value:"sma",label:"SMA / Sederajat"},{value:"d1",label:"Diploma 1 (D1)"},{value:"d2",label:"Diploma 2 (D2)"},{value:"d3",label:"Diploma 3 (D3)"},{value:"s1",label:"Sarjana (S1)"},{value:"s2",label:"Magister (S2)"},{value:"s3",label:"Doktor (S3)"},{value:"tidak_sekolah",label:"Tidak Sekolah"}];function he(f){const e=U.c(73),{wave:s}=f,[t,u]=ae.useState(0),{props:p}=te(),o=p.flash;let x,m;e[0]===Symbol.for("react.memo_cache_sentinel")?(x=[{type:"ayah",nik:"",name:"",phone:"",email:"",last_education:"",job:"",income:"",is_alive:!0,is_guardian:!0},{type:"ibu",nik:"",name:"",phone:"",email:"",last_education:"",job:"",income:"",is_alive:!0,is_guardian:!1}],m={},e[0]=x,e[1]=m):(x=e[0],m=e[1]);let d;e[2]===Symbol.for("react.memo_cache_sentinel")?(d={nik:"",name:"",gender:"l",pob:"",dob:"",previous_school:"",nisn:"",address:"",parents:x,documents:m},e[2]=d):d=e[2];const{data:l,setData:n,post:k,processing:g,errors:c}=le(d);let j;e[3]!==l||e[4]!==n?(j=function(i,b,Y){const V=[...l.parents];V[i][b]=Y,b==="is_guardian"&&Y===!0&&V.forEach((Z,ee)=>{ee!==i&&(Z.is_guardian=!1)}),n("parents",V)},e[3]=l,e[4]=n,e[5]=j):j=e[5];const h=j;let y;e[6]!==k||e[7]!==s.id?(y=function(i){i.preventDefault(),k(`/daftar/${s.id}`,{forceFormData:!0})},e[6]=k,e[7]=s.id,e[8]=y):y=e[8];const N=y;let w;e[9]!==l||e[10]!==t?(w=function(){return t===0?l.nik&&l.name&&l.dob&&l.address:t===1?l.parents[0].name&&l.parents[1].name:!0},e[9]=l,e[10]=t,e[11]=w):w=e[11];const J=w,H=`Pendaftaran — ${s.name}`;let C;e[12]!==s.institution.name?(C=a.jsx("span",{className:"inline-flex items-center rounded-full bg-emerald-50 px-3 py-1 text-xs font-semibold text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-300",children:s.institution.name}),e[12]=s.institution.name,e[13]=C):C=e[13];let S;e[14]!==s.name?(S=a.jsx("h1",{className:"mt-3 text-2xl font-bold text-gray-900 dark:text-white sm:text-3xl",children:s.name}),e[14]=s.name,e[15]=S):S=e[15];let P;e[16]!==s.registration_fee?(P=re(s.registration_fee),e[16]=s.registration_fee,e[17]=P):P=e[17];let _;e[18]!==P?(_=a.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:["Biaya Formulir: ",a.jsx("strong",{className:"text-emerald-600",children:P})]}),e[18]=P,e[19]=_):_=e[19];let L;e[20]!==_||e[21]!==C||e[22]!==S?(L=a.jsxs("div",{className:"mb-8 text-center",children:[C,S,_]}),e[20]=_,e[21]=C,e[22]=S,e[23]=L):L=e[23];let R;e[24]!==o?(R=o?.success&&a.jsx("div",{className:"mb-6 rounded-xl border border-emerald-200 bg-emerald-50 p-4 text-sm text-emerald-700 dark:border-emerald-800 dark:bg-emerald-900/30 dark:text-emerald-300",children:o.success}),e[24]=o,e[25]=R):R=e[25];let D;e[26]!==o?(D=o?.error&&a.jsx("div",{className:"mb-6 rounded-xl border border-red-200 bg-red-50 p-4 text-sm text-red-700 dark:border-red-800 dark:bg-red-900/30 dark:text-red-300",children:o.error}),e[26]=o,e[27]=D):D=e[27];let B;e[28]!==t?(B=Q.map((r,i)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{type:"button",onClick:()=>i<t&&u(i),className:`flex items-center gap-2 rounded-full px-4 py-2 text-sm font-medium transition-all ${i===t?"bg-emerald-500 text-white shadow-lg shadow-emerald-200/50":i<t?"bg-emerald-100 text-emerald-700 hover:bg-emerald-200 dark:bg-emerald-900/30 dark:text-emerald-300":"bg-gray-100 text-gray-400 dark:bg-gray-800 dark:text-gray-500"}`,children:[a.jsx("span",{className:`flex h-6 w-6 items-center justify-center rounded-full text-xs font-bold ${i<=t?"bg-white/20":""}`,children:i<t?"✓":i+1}),a.jsx("span",{className:"hidden sm:inline",children:r})]}),i<Q.length-1&&a.jsx("div",{className:`hidden h-px w-8 sm:block ${i<t?"bg-emerald-300":"bg-gray-200 dark:bg-gray-700"}`})]},r)),e[28]=t,e[29]=B):B=e[29];let T;e[30]!==B?(T=a.jsx("div",{className:"mb-10 flex items-center justify-center gap-2",children:B}),e[30]=B,e[31]=T):T=e[31];let M;e[32]!==l||e[33]!==c||e[34]!==n||e[35]!==t?(M=t===0&&a.jsxs("div",{className:"space-y-6",children:[a.jsx(X,{children:"Data Calon Santri"}),a.jsxs("div",{className:"grid gap-5 sm:grid-cols-2",children:[a.jsx(v,{label:"NIK",value:l.nik,onChange:r=>n("nik",r),error:c.nik,required:!0,maxLength:16}),a.jsx(v,{label:"Nama Lengkap",value:l.name,onChange:r=>n("name",r),error:c.name,required:!0}),a.jsx(z,{label:"Jenis Kelamin",value:l.gender,onChange:r=>n("gender",r),options:[{value:"l",label:"Laki-laki"},{value:"p",label:"Perempuan"}]}),a.jsx(v,{label:"Tempat Lahir",value:l.pob,onChange:r=>n("pob",r),error:c.pob,required:!0}),a.jsx(v,{label:"Tanggal Lahir",type:"date",value:l.dob,onChange:r=>n("dob",r),error:c.dob,required:!0}),a.jsx(v,{label:"NISN",value:l.nisn,onChange:r=>n("nisn",r),error:c.nisn,maxLength:10}),a.jsx(v,{label:"Asal Sekolah",value:l.previous_school,onChange:r=>n("previous_school",r),error:c.previous_school,className:"sm:col-span-2"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Alamat Lengkap ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsx("textarea",{rows:3,value:l.address,onChange:r=>n("address",r.target.value),className:"w-full rounded-xl border border-gray-200 bg-gray-50 px-4 py-3 text-sm transition-colors focus:border-emerald-500 focus:bg-white focus:outline-none focus:ring-2 focus:ring-emerald-500/20 dark:border-gray-600 dark:bg-gray-700 dark:text-white"}),c.address&&a.jsx("p",{className:"mt-1 text-xs text-red-500",children:c.address})]})]}),e[32]=l,e[33]=c,e[34]=n,e[35]=t,e[36]=M):M=e[36];let I;e[37]!==l||e[38]!==t||e[39]!==h?(I=t===1&&a.jsx("div",{className:"space-y-8",children:l.parents.map((r,i)=>a.jsxs("div",{children:[a.jsx(X,{children:r.type==="ayah"?"Data Ayah":"Data Ibu"}),a.jsxs("div",{className:"mt-4 grid gap-5 sm:grid-cols-2",children:[a.jsx(v,{label:"NIK",value:r.nik,onChange:b=>h(i,"nik",b),maxLength:16}),a.jsx(v,{label:"Nama Lengkap",value:r.name,onChange:b=>h(i,"name",b),required:!0}),a.jsx(v,{label:"No. Telepon",value:r.phone,onChange:b=>h(i,"phone",b)}),a.jsx(v,{label:"Email",value:r.email,onChange:b=>h(i,"email",b),type:"email"}),a.jsx(z,{label:"Pendidikan Terakhir",value:r.last_education,onChange:b=>h(i,"last_education",b),options:oe}),a.jsx(z,{label:"Pekerjaan",value:r.job,onChange:b=>h(i,"job",b),options:ne.map(de)}),a.jsx(z,{label:"Penghasilan /bulan",value:r.income,onChange:b=>h(i,"income",b),options:ie}),a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700 dark:text-gray-300",children:[a.jsx("input",{type:"checkbox",checked:r.is_alive,onChange:b=>h(i,"is_alive",b.target.checked),className:"h-4 w-4 rounded border-gray-300 text-emerald-500 focus:ring-emerald-500"}),"Masih Hidup"]}),a.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700 dark:text-gray-300",children:[a.jsx("input",{type:"radio",name:"is_guardian",checked:r.is_guardian,onChange:()=>h(i,"is_guardian",!0),className:"h-4 w-4 border-gray-300 text-emerald-500 focus:ring-emerald-500"}),"Sebagai Wali"]})]})]})]},r.type))}),e[37]=l,e[38]=t,e[39]=h,e[40]=I):I=e[40];let K;e[41]!==l||e[42]!==n||e[43]!==t?(K=t===2&&a.jsxs("div",{className:"space-y-6",children:[a.jsx(X,{children:"Upload Berkas"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Upload dokumen dalam format JPG, PNG, atau PDF (maks 5MB per file)."}),a.jsx("div",{className:"grid gap-5 sm:grid-cols-2",children:[{key:"akta_lahir",label:"Akta Kelahiran"},{key:"kk",label:"Kartu Keluarga"},{key:"foto",label:"Pas Foto (3x4)"},{key:"ijazah",label:"Ijazah / Rapor Terakhir"},{key:"ktp_ortu",label:"KTP Orang Tua/Wali"},{key:"skl",label:"Surat Keterangan Lulus"}].map(r=>a.jsx(me,{label:r.label,file:l.documents[r.key]??null,onChange:i=>n("documents",{...l.documents,[r.key]:i})},r.key))})]}),e[41]=l,e[42]=n,e[43]=t,e[44]=K):K=e[44];let F;e[45]!==M||e[46]!==I||e[47]!==K?(F=a.jsxs("div",{className:"p-6 sm:p-8",children:[M,I,K]}),e[45]=M,e[46]=I,e[47]=K,e[48]=F):F=e[48];let A;e[49]!==t?(A=t>0?a.jsxs("button",{type:"button",onClick:()=>u(t-1),className:"inline-flex items-center gap-1.5 rounded-lg px-4 py-2 text-sm font-medium text-gray-600 transition-colors hover:bg-gray-100 hover:text-gray-900 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white",children:[a.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"})}),"Sebelumnya"]}):a.jsx("div",{}),e[49]=t,e[50]=A):A=e[50];let O;e[51]!==J||e[52]!==g||e[53]!==t?(O=t<Q.length-1?a.jsxs("button",{type:"button",disabled:!J(),onClick:()=>u(t+1),className:"inline-flex items-center gap-1.5 rounded-lg bg-emerald-500 px-6 py-2.5 text-sm font-semibold text-white shadow-sm transition-all hover:bg-emerald-600 disabled:cursor-not-allowed disabled:opacity-40",children:["Selanjutnya",a.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"})})]}):a.jsx("button",{type:"submit",disabled:g,className:"inline-flex items-center gap-2 rounded-lg bg-gradient-to-r from-emerald-500 to-teal-600 px-8 py-2.5 text-sm font-bold text-white shadow-lg transition-all hover:from-emerald-600 hover:to-teal-700 disabled:opacity-50",children:g?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"h-4 w-4 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Mengirim..."]}):a.jsxs(a.Fragment,{children:["Kirim Pendaftaran",a.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"})})]})}),e[51]=J,e[52]=g,e[53]=t,e[54]=O):O=e[54];let $;e[55]!==A||e[56]!==O?($=a.jsxs("div",{className:"flex items-center justify-between border-t border-gray-100 bg-gray-50/50 px-6 py-4 dark:border-gray-700 dark:bg-gray-800/50 sm:px-8",children:[A,O]}),e[55]=A,e[56]=O,e[57]=$):$=e[57];let W;e[58]!==F||e[59]!==$?(W=a.jsxs("div",{className:"overflow-hidden rounded-2xl border border-gray-100 bg-white shadow-sm dark:border-gray-700 dark:bg-gray-800",children:[F,$]}),e[58]=F,e[59]=$,e[60]=W):W=e[60];let E;e[61]!==N||e[62]!==W?(E=a.jsx("form",{onSubmit:N,children:W}),e[61]=N,e[62]=W,e[63]=E):E=e[63];let G;e[64]!==L||e[65]!==R||e[66]!==D||e[67]!==T||e[68]!==E?(G=a.jsxs("div",{className:"mx-auto max-w-4xl px-4 py-10 sm:px-6 lg:px-8",children:[L,R,D,T,E]}),e[64]=L,e[65]=R,e[66]=D,e[67]=T,e[68]=E,e[69]=G):G=e[69];let q;return e[70]!==G||e[71]!==H?(q=a.jsx(se,{title:H,children:G}),e[70]=G,e[71]=H,e[72]=q):q=e[72],q}function de(f){return{value:f,label:f||"— Pilih —"}}function X(f){const e=U.c(3),{children:s}=f;let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=a.jsx("div",{className:"h-5 w-1 rounded-full bg-gradient-to-b from-emerald-500 to-teal-500"}),e[0]=t):t=e[0];let u;return e[1]!==s?(u=a.jsxs("h3",{className:"flex items-center gap-2 text-lg font-bold text-gray-900 dark:text-white",children:[t,s]}),e[1]=s,e[2]=u):u=e[2],u}function v(f){const e=U.c(20),{label:s,value:t,onChange:u,error:p,type:o,required:x,className:m,placeholder:d,maxLength:l}=f,n=o===void 0?"text":o,k=m===void 0?"":m;let g;e[0]!==x?(g=x&&a.jsx("span",{className:"text-red-400",children:"*"}),e[0]=x,e[1]=g):g=e[1];let c;e[2]!==s||e[3]!==g?(c=a.jsxs("label",{className:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-300",children:[s," ",g]}),e[2]=s,e[3]=g,e[4]=c):c=e[4];let j;e[5]!==u?(j=w=>u(w.target.value),e[5]=u,e[6]=j):j=e[6];let h;e[7]!==l||e[8]!==d||e[9]!==j||e[10]!==n||e[11]!==t?(h=a.jsx("input",{type:n,value:t,placeholder:d,maxLength:l,onChange:j,className:"w-full rounded-xl border border-gray-200 bg-gray-50 px-4 py-2.5 text-sm transition-colors focus:border-emerald-500 focus:bg-white focus:outline-none focus:ring-2 focus:ring-emerald-500/20 dark:border-gray-600 dark:bg-gray-700 dark:text-white"}),e[7]=l,e[8]=d,e[9]=j,e[10]=n,e[11]=t,e[12]=h):h=e[12];let y;e[13]!==p?(y=p&&a.jsx("p",{className:"mt-1 text-xs text-red-500",children:p}),e[13]=p,e[14]=y):y=e[14];let N;return e[15]!==k||e[16]!==c||e[17]!==h||e[18]!==y?(N=a.jsxs("div",{className:k,children:[c,h,y]}),e[15]=k,e[16]=c,e[17]=h,e[18]=y,e[19]=N):N=e[19],N}function z(f){const e=U.c(13),{label:s,value:t,onChange:u,options:p}=f;let o;e[0]!==s?(o=a.jsx("label",{className:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-300",children:s}),e[0]=s,e[1]=o):o=e[1];let x;e[2]!==u?(x=n=>u(n.target.value),e[2]=u,e[3]=x):x=e[3];let m;e[4]!==p?(m=p.map(ce),e[4]=p,e[5]=m):m=e[5];let d;e[6]!==x||e[7]!==m||e[8]!==t?(d=a.jsx("select",{value:t,onChange:x,className:"w-full rounded-xl border border-gray-200 bg-gray-50 px-4 py-2.5 text-sm transition-colors focus:border-emerald-500 focus:bg-white focus:outline-none focus:ring-2 focus:ring-emerald-500/20 dark:border-gray-600 dark:bg-gray-700 dark:text-white",children:m}),e[6]=x,e[7]=m,e[8]=t,e[9]=d):d=e[9];let l;return e[10]!==o||e[11]!==d?(l=a.jsxs("div",{children:[o,d]}),e[10]=o,e[11]=d,e[12]=l):l=e[12],l}function ce(f){return a.jsx("option",{value:f.value,children:f.label},f.value)}function me(f){const e=U.c(22),{label:s,file:t,onChange:u}=f;let p;e[0]!==s?(p=a.jsx("label",{className:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-300",children:s}),e[0]=s,e[1]=p):p=e[1];let o;e[2]!==t?(o=a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-lg bg-emerald-100 text-emerald-600 dark:bg-emerald-900/30 dark:text-emerald-400",children:t?a.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"})}):a.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"})})}),e[2]=t,e[3]=o):o=e[3];const x=t?t.name:"Pilih file...";let m;e[4]!==x?(m=a.jsx("p",{className:"truncate text-sm font-medium text-gray-700 dark:text-gray-300",children:x}),e[4]=x,e[5]=m):m=e[5];let d;e[6]!==t?(d=t?`${(t.size/1024).toFixed(0)} KB`:"JPG, PNG, PDF (maks 5MB)",e[6]=t,e[7]=d):d=e[7];let l;e[8]!==d?(l=a.jsx("p",{className:"text-xs text-gray-400",children:d}),e[8]=d,e[9]=l):l=e[9];let n;e[10]!==m||e[11]!==l?(n=a.jsxs("div",{className:"min-w-0 flex-1",children:[m,l]}),e[10]=m,e[11]=l,e[12]=n):n=e[12];let k;e[13]!==u?(k=a.jsx("input",{type:"file",accept:".jpg,.jpeg,.png,.pdf",className:"hidden",onChange:j=>u(j.target.files?.[0]??null)}),e[13]=u,e[14]=k):k=e[14];let g;e[15]!==o||e[16]!==n||e[17]!==k?(g=a.jsxs("label",{className:"flex cursor-pointer items-center gap-3 rounded-xl border-2 border-dashed border-gray-200 bg-gray-50 px-4 py-4 transition-all hover:border-emerald-400 hover:bg-emerald-50/30 dark:border-gray-600 dark:bg-gray-700 dark:hover:border-emerald-600",children:[o,n,k]}),e[15]=o,e[16]=n,e[17]=k,e[18]=g):g=e[18];let c;return e[19]!==p||e[20]!==g?(c=a.jsxs("div",{children:[p,g]}),e[19]=p,e[20]=g,e[21]=c):c=e[21],c}export{he as default};
