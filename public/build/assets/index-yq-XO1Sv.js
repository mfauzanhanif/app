import{b as P,j as t,L as F,d as B,H as z}from"./client-DWlEoVOe.js";import{c as R}from"./compiler-runtime-D9Fr3M0Q.js";import{S as V,A as G}from"./app.layout-D2fMcWQZ.js";import{g as K}from"./nav-config-CbqupiEb.js";import{C as J}from"./circle-check-big-DLH7kXzJ.js";import{E as M}from"./eye-BPMfITgS.js";import"./use-initials-Bb7xdmE_.js";import"./createLucideIcon-D4AB4V62.js";import"./index-CSEUMRIG.js";import"./menu-D42eQ-WD.js";import"./layout-dashboard-DUi8NNsd.js";import"./graduation-cap-dDOcVoAo.js";import"./users-CwJSaHBY.js";import"./wallet-DAg92wIV.js";function U(l){return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(l)}function oe(l){const e=R.c(51),{invoices:s,filters:b,institutionCode:r}=l,[i,A]=P.useState(b.search||"");let j;e[0]!==b||e[1]!==r?(j=(a,H)=>{B.get(`/${r}/admission-invoices`,{...b,[a]:H||void 0},{preserveState:!0,replace:!0})},e[0]=b,e[1]=r,e[2]=j):j=e[2];const n=j;let N;e[3]!==r?(N=a=>{confirm("Verifikasi pembayaran ini?")&&B.put(`/${r}/admission-invoices/${a}/verify`,{},{preserveScroll:!0})},e[3]=r,e[4]=N):N=e[4];const I=N;let _;e[5]===Symbol.for("react.memo_cache_sentinel")?(_=t.jsx(z,{title:"Tagihan PSB"}),e[5]=_):_=e[5];let o;e[6]!==r?(o=K(r),e[6]=r,e[7]=o):o=e[7];let v;e[8]===Symbol.for("react.memo_cache_sentinel")?(v=t.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Tagihan PSB"}),e[8]=v):v=e[8];let c;e[9]!==s.total?(c=t.jsxs("div",{className:"mb-6",children:[v,t.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Total: ",s.total," tagihan"]})]}),e[9]=s.total,e[10]=c):c=e[10];let S;e[11]===Symbol.for("react.memo_cache_sentinel")?(S=t.jsx(V,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),e[11]=S):S=e[11];let w;e[12]===Symbol.for("react.memo_cache_sentinel")?(w=a=>A(a.target.value),e[12]=w):w=e[12];let d;e[13]!==n||e[14]!==i?(d=a=>a.key==="Enter"&&n("search",i),e[13]=n,e[14]=i,e[15]=d):d=e[15];let x;e[16]!==i||e[17]!==d?(x=t.jsxs("div",{className:"relative flex-1 min-w-[250px]",children:[S,t.jsx("input",{type:"text",value:i,onChange:w,onKeyDown:d,placeholder:"Cari kode/nama...",className:"w-full pl-10 pr-4 py-2.5 rounded-xl border border-gray-200 bg-gray-50 focus:bg-white focus:border-emerald-500 focus:ring-2 focus:ring-emerald-100 text-sm"})]}),e[16]=i,e[17]=d,e[18]=x):x=e[18];const T=b.status||"";let m;e[19]!==n?(m=a=>n("status",a.target.value),e[19]=n,e[20]=m):m=e[20];let k,C,D,L;e[21]===Symbol.for("react.memo_cache_sentinel")?(k=t.jsx("option",{value:"",children:"Semua Status"}),C=t.jsx("option",{value:"belum_lunas",children:"Belum Lunas"}),D=t.jsx("option",{value:"lunas",children:"Lunas"}),L=t.jsx("option",{value:"dibatalkan",children:"Dibatalkan"}),e[21]=k,e[22]=C,e[23]=D,e[24]=L):(k=e[21],C=e[22],D=e[23],L=e[24]);let p;e[25]!==T||e[26]!==m?(p=t.jsxs("select",{value:T,onChange:m,className:"px-4 py-2.5 rounded-xl border border-gray-200 bg-gray-50 text-sm",children:[k,C,D,L]}),e[25]=T,e[26]=m,e[27]=p):p=e[27];let u;e[28]!==x||e[29]!==p?(u=t.jsxs("div",{className:"flex flex-wrap gap-3 mb-6",children:[x,p]}),e[28]=x,e[29]=p,e[30]=u):u=e[30];let $;e[31]===Symbol.for("react.memo_cache_sentinel")?($=t.jsx("thead",{children:t.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100",children:[t.jsx("th",{className:"text-left px-5 py-3 font-bold text-gray-500 text-xs uppercase",children:"Kode"}),t.jsx("th",{className:"text-left px-5 py-3 font-bold text-gray-500 text-xs uppercase",children:"Pendaftar"}),t.jsx("th",{className:"text-left px-5 py-3 font-bold text-gray-500 text-xs uppercase",children:"Tipe"}),t.jsx("th",{className:"text-right px-5 py-3 font-bold text-gray-500 text-xs uppercase",children:"Jumlah"}),t.jsx("th",{className:"text-left px-5 py-3 font-bold text-gray-500 text-xs uppercase",children:"Status"}),t.jsx("th",{className:"text-center px-5 py-3 font-bold text-gray-500 text-xs uppercase",children:"Aksi"})]})}),e[31]=$):$=e[31];let f;e[32]!==r||e[33]!==s.data||e[34]!==I?(f=s.data.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:6,className:"px-5 py-12 text-center text-gray-400",children:"Tidak ada tagihan"})}):s.data.map(a=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-5 py-3 font-mono text-xs text-gray-500",children:a.code}),t.jsxs("td",{className:"px-5 py-3",children:[t.jsx("p",{className:"font-bold text-gray-800",children:a.candidate.name}),t.jsx("p",{className:"text-xs text-gray-400",children:a.candidate.registration_number})]}),t.jsx("td",{className:"px-5 py-3 text-gray-600",children:a.type==="biaya_formulir"?"Formulir":"Daftar Ulang"}),t.jsx("td",{className:"px-5 py-3 text-right font-bold text-emerald-700",children:U(a.amount)}),t.jsx("td",{className:"px-5 py-3",children:t.jsx("span",{className:`text-xs font-bold px-2.5 py-1 rounded-full ${a.status==="lunas"?"bg-green-100 text-green-700":a.status==="dibatalkan"?"bg-red-100 text-red-600":"bg-yellow-100 text-yellow-700"}`,children:a.status==="lunas"?"Lunas":a.status==="dibatalkan"?"Dibatalkan":"Belum Lunas"})}),t.jsx("td",{className:"px-5 py-3 text-center",children:t.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.proof_path&&a.status==="belum_lunas"&&t.jsxs("button",{onClick:()=>I(a.id),className:"text-xs font-medium bg-emerald-50 text-emerald-600 px-3 py-1.5 rounded-lg hover:bg-emerald-100",children:[t.jsx(J,{size:12,className:"inline mr-1"}),"Verifikasi"]}),t.jsxs(F,{href:`/${r}/candidates/${a.candidate.id}`,className:"text-xs font-medium bg-gray-50 text-gray-600 px-3 py-1.5 rounded-lg hover:bg-gray-100",children:[t.jsx(M,{size:12,className:"inline mr-1"}),"Detail"]})]})})]},a.id)),e[32]=r,e[33]=s.data,e[34]=I,e[35]=f):f=e[35];let h;e[36]!==f?(h=t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-sm",children:[$,t.jsx("tbody",{className:"divide-y divide-gray-50",children:f})]})}),e[36]=f,e[37]=h):h=e[37];let g;e[38]!==s.current_page||e[39]!==s.last_page||e[40]!==s.links?(g=s.last_page>1&&t.jsxs("div",{className:"flex items-center justify-between px-5 py-3 border-t border-gray-100 bg-gray-50",children:[t.jsxs("span",{className:"text-xs text-gray-500",children:["Halaman ",s.current_page," dari ",s.last_page]}),t.jsx("div",{className:"flex gap-1",children:s.links.map(q)})]}),e[38]=s.current_page,e[39]=s.last_page,e[40]=s.links,e[41]=g):g=e[41];let y;e[42]!==h||e[43]!==g?(y=t.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 overflow-hidden",children:[h,g]}),e[42]=h,e[43]=g,e[44]=y):y=e[44];let E;return e[45]!==r||e[46]!==u||e[47]!==y||e[48]!==o||e[49]!==c?(E=t.jsxs(t.Fragment,{children:[_,t.jsxs(G,{navGroups:o,sidebarVariant:"light",institutionCode:r,children:[c,u,y]})]}),e[45]=r,e[46]=u,e[47]=y,e[48]=o,e[49]=c,e[50]=E):E=e[50],E}function q(l,e){return l.url?t.jsx(F,{href:l.url,className:`px-3 py-1 rounded text-xs font-medium ${l.active?"bg-emerald-600 text-white":"bg-white text-gray-600 hover:bg-gray-100"}`,preserveState:!0,dangerouslySetInnerHTML:{__html:l.label}},e):null}export{oe as default};
