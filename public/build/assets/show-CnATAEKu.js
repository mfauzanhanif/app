import{b as ye,j as s,d as ue,H as je,L as Ne}from"./client-DWlEoVOe.js";import{c as ve}from"./compiler-runtime-D9Fr3M0Q.js";import{A as _e}from"./app.layout-BhhvzvuL.js";import{g as ke,C as we}from"./nav-config-CbqupiEb.js";import{F as fe}from"./file-text-Dtt_g5Cn.js";import{C as ge}from"./circle-check-big-DLH7kXzJ.js";import{C as Se}from"./circle-x-DupX5q3k.js";import{A as Ce}from"./arrow-left-BG7DO0cO.js";import{U as Le}from"./users-CwJSaHBY.js";import{W as $e}from"./wallet-DAg92wIV.js";import"./use-initials-CdVnSpd0.js";import"./createLucideIcon-D4AB4V62.js";import"./index-CSEUMRIG.js";import"./menu-D42eQ-WD.js";import"./layout-dashboard-DUi8NNsd.js";import"./graduation-cap-dDOcVoAo.js";const Ae={kk:"Kartu Keluarga",akta:"Akta Kelahiran",ktp_wali:"KTP Wali",ijazah:"Ijazah",foto:"Pas Foto",skl:"SKL",kip:"KIP"},ze={wawancara_santri:"Wawancara Santri",wawancara_wali:"Wawancara Wali",tes_tulis:"Tes Tulis",tes_alquran:"Tes Al-Quran"},De={draft:"bg-gray-100 text-gray-600",diajukan:"bg-blue-100 text-blue-700",diverifikasi:"bg-indigo-100 text-indigo-700",jadwal_tes_ada:"bg-yellow-100 text-yellow-700",lulus:"bg-green-100 text-green-700",tidak_lulus:"bg-red-100 text-red-600",diterima:"bg-emerald-100 text-emerald-700"};function Te(l){return new Date(l).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})}function Be(l){return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(l)}function es(l){const e=ve.c(118),{candidate:he,statuses:n,institutionCode:i}=l,t=he,[W,pe]=ye.useState(null);let E;e[0]!==t.id||e[1]!==i||e[2]!==n?(E=a=>{confirm(`Ubah status ke "${n.find(r=>r.value===a)?.label}"?`)&&ue.put(`/${i}/candidates/${t.id}/status`,{status:a},{preserveScroll:!0})},e[0]=t.id,e[1]=i,e[2]=n,e[3]=E):E=e[3];const U=E;let V;e[4]!==t.id||e[5]!==i?(V=(a,r)=>{pe(a),ue.put(`/${i}/candidates/${t.id}/documents/${a}/verify`,{is_valid:r},{preserveScroll:!0,onFinish:()=>pe(null)})},e[4]=t.id,e[5]=i,e[6]=V):V=e[6];const R=V;let O;e[7]!==i?(O=a=>{confirm("Verifikasi pembayaran ini?")&&ue.put(`/${i}/admission-invoices/${a}/verify`,{},{preserveScroll:!0})},e[7]=i,e[8]=O):O=e[8];const re=O,ne=`Detail — ${t.name}`;let c;e[9]!==ne?(c=s.jsx(je,{title:ne}),e[9]=ne,e[10]=c):c=e[10];let d;e[11]!==i?(d=ke(i),e[11]=i,e[12]=d):d=e[12];const ce=`/${i}/candidates`;let G;e[13]===Symbol.for("react.memo_cache_sentinel")?(G=s.jsx(Ce,{size:16}),e[13]=G):G=e[13];let m;e[14]!==ce?(m=s.jsx(Ne,{href:ce,className:"p-2 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:G}),e[14]=ce,e[15]=m):m=e[15];let o;e[16]!==t.name?(o=s.jsx("h1",{className:"text-xl font-bold text-gray-800",children:t.name}),e[16]=t.name,e[17]=o):o=e[17];let x;e[18]!==t.admission_wave.name||e[19]!==t.registration_number?(x=s.jsxs("p",{className:"text-xs text-gray-400 font-mono",children:[t.registration_number," — ",t.admission_wave.name]}),e[18]=t.admission_wave.name,e[19]=t.registration_number,e[20]=x):x=e[20];let u;e[21]!==o||e[22]!==x?(u=s.jsxs("div",{children:[o,x]}),e[21]=o,e[22]=x,e[23]=u):u=e[23];let f;e[24]!==u||e[25]!==m?(f=s.jsxs("div",{className:"flex items-center gap-3",children:[m,u]}),e[24]=u,e[25]=m,e[26]=f):f=e[26];const de=`text-sm font-bold px-4 py-1.5 rounded-full ${De[t.status]||"bg-gray-100"}`;let p;if(e[27]!==t.status){let a;e[29]===Symbol.for("react.memo_cache_sentinel")?(a=/\b\w/g,e[29]=a):a=e[29],p=t.status.replace(/_/g," ").replace(a,Pe),e[27]=t.status,e[28]=p}else p=e[28];let g;e[30]!==de||e[31]!==p?(g=s.jsx("span",{className:de,children:p}),e[30]=de,e[31]=p,e[32]=g):g=e[32];let h;e[33]!==f||e[34]!==g?(h=s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f,g]}),e[33]=f,e[34]=g,e[35]=h):h=e[35];let H;e[36]===Symbol.for("react.memo_cache_sentinel")?(H=s.jsxs("h2",{className:"font-bold text-gray-800 flex items-center gap-2 mb-4",children:[s.jsx(fe,{size:18,className:"text-emerald-600"})," Biodata"]}),e[36]=H):H=e[36];let X;e[37]===Symbol.for("react.memo_cache_sentinel")?(X=s.jsx("span",{className:"text-gray-400",children:"NIK"}),e[37]=X):X=e[37];let b;e[38]!==t.nik?(b=s.jsxs("div",{children:[X,s.jsx("p",{className:"font-medium",children:t.nik})]}),e[38]=t.nik,e[39]=b):b=e[39];let q;e[40]===Symbol.for("react.memo_cache_sentinel")?(q=s.jsx("span",{className:"text-gray-400",children:"Jenis Kelamin"}),e[40]=q):q=e[40];const me=t.gender==="l"?"Laki-laki":"Perempuan";let y;e[41]!==me?(y=s.jsxs("div",{children:[q,s.jsx("p",{className:"font-medium",children:me})]}),e[41]=me,e[42]=y):y=e[42];let J;e[43]===Symbol.for("react.memo_cache_sentinel")?(J=s.jsx("span",{className:"text-gray-400",children:"TTL"}),e[43]=J):J=e[43];const be=t.pob;let j;e[44]!==t.dob?(j=Te(t.dob),e[44]=t.dob,e[45]=j):j=e[45];let N;e[46]!==t.pob||e[47]!==j?(N=s.jsxs("div",{children:[J,s.jsxs("p",{className:"font-medium",children:[be,", ",j]})]}),e[46]=t.pob,e[47]=j,e[48]=N):N=e[48];let M;e[49]===Symbol.for("react.memo_cache_sentinel")?(M=s.jsx("span",{className:"text-gray-400",children:"NISN"}),e[49]=M):M=e[49];const oe=t.nisn||"-";let v;e[50]!==oe?(v=s.jsxs("div",{children:[M,s.jsx("p",{className:"font-medium",children:oe})]}),e[50]=oe,e[51]=v):v=e[51];let Q;e[52]===Symbol.for("react.memo_cache_sentinel")?(Q=s.jsx("span",{className:"text-gray-400",children:"Asal Sekolah"}),e[52]=Q):Q=e[52];const xe=t.previous_school||"-";let _;e[53]!==xe?(_=s.jsxs("div",{children:[Q,s.jsx("p",{className:"font-medium",children:xe})]}),e[53]=xe,e[54]=_):_=e[54];let Y;e[55]===Symbol.for("react.memo_cache_sentinel")?(Y=s.jsx("span",{className:"text-gray-400",children:"Wali Akun"}),e[55]=Y):Y=e[55];let k;e[56]!==t.user.email||e[57]!==t.user.name?(k=s.jsxs("div",{children:[Y,s.jsxs("p",{className:"font-medium",children:[t.user.name," (",t.user.email,")"]})]}),e[56]=t.user.email,e[57]=t.user.name,e[58]=k):k=e[58];let Z;e[59]===Symbol.for("react.memo_cache_sentinel")?(Z=s.jsx("span",{className:"text-gray-400",children:"Alamat"}),e[59]=Z):Z=e[59];let w;e[60]!==t.address?(w=s.jsxs("div",{className:"col-span-2",children:[Z,s.jsx("p",{className:"font-medium",children:t.address})]}),e[60]=t.address,e[61]=w):w=e[61];let S;e[62]!==b||e[63]!==y||e[64]!==N||e[65]!==v||e[66]!==_||e[67]!==k||e[68]!==w?(S=s.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 p-6",children:[H,s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[b,y,N,v,_,k,w]})]}),e[62]=b,e[63]=y,e[64]=N,e[65]=v,e[66]=_,e[67]=k,e[68]=w,e[69]=S):S=e[69];let ee;e[70]===Symbol.for("react.memo_cache_sentinel")?(ee=s.jsxs("h2",{className:"font-bold text-gray-800 flex items-center gap-2 mb-4",children:[s.jsx(Le,{size:18,className:"text-blue-600"})," Data Keluarga"]}),e[70]=ee):ee=e[70];let C;e[71]!==t.families?(C=t.families.map(Ke),e[71]=t.families,e[72]=C):C=e[72];let L;e[73]!==C?(L=s.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 p-6",children:[ee,s.jsx("div",{className:"space-y-3",children:C})]}),e[73]=C,e[74]=L):L=e[74];let se;e[75]===Symbol.for("react.memo_cache_sentinel")?(se=s.jsxs("h2",{className:"font-bold text-gray-800 flex items-center gap-2 mb-4",children:[s.jsx(fe,{size:18,className:"text-purple-600"})," Berkas Persyaratan"]}),e[75]=se):se=e[75];let $;e[76]!==t.documents||e[77]!==R||e[78]!==W?($=t.documents.length===0?s.jsx("p",{className:"text-sm text-gray-400 text-center py-4",children:"Belum ada berkas yang diupload."}):t.documents.map(a=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-xl",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(fe,{size:16,className:"text-gray-400"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:Ae[a.file_type]||a.file_type})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[a.is_valid===null&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>R(a.id,!0),disabled:W===a.id,className:"px-3 py-1 bg-green-100 text-green-700 rounded-lg text-xs font-medium hover:bg-green-200 transition-colors",children:[s.jsx(ge,{size:12,className:"inline mr-1"}),"Valid"]}),s.jsxs("button",{onClick:()=>R(a.id,!1),disabled:W===a.id,className:"px-3 py-1 bg-red-100 text-red-600 rounded-lg text-xs font-medium hover:bg-red-200 transition-colors",children:[s.jsx(Se,{size:12,className:"inline mr-1"}),"Tolak"]})]}),a.is_valid===!0&&s.jsx("span",{className:"text-xs font-bold text-green-600 bg-green-50 px-3 py-1 rounded-full",children:"✓ Valid"}),a.is_valid===!1&&s.jsx("span",{className:"text-xs font-bold text-red-600 bg-red-50 px-3 py-1 rounded-full",children:"✗ Ditolak"})]})]},a.id)),e[76]=t.documents,e[77]=R,e[78]=W,e[79]=$):$=e[79];let A;e[80]!==$?(A=s.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 p-6",children:[se,s.jsx("div",{className:"space-y-2",children:$})]}),e[80]=$,e[81]=A):A=e[81];let te;e[82]===Symbol.for("react.memo_cache_sentinel")?(te=s.jsxs("h2",{className:"font-bold text-gray-800 flex items-center gap-2 mb-4",children:[s.jsx(we,{size:18,className:"text-yellow-600"})," Tes Seleksi"]}),e[82]=te):te=e[82];let z;e[83]!==t.exams?(z=s.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 p-6",children:[te,t.exams.length===0?s.jsx("p",{className:"text-sm text-gray-400 text-center py-4",children:"Belum ada data tes."}):s.jsx("div",{className:"space-y-2",children:t.exams.map(Fe)})]}),e[83]=t.exams,e[84]=z):z=e[84];let D;e[85]!==S||e[86]!==L||e[87]!==A||e[88]!==z?(D=s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[S,L,A,z]}),e[85]=S,e[86]=L,e[87]=A,e[88]=z,e[89]=D):D=e[89];let ae;e[90]===Symbol.for("react.memo_cache_sentinel")?(ae=s.jsx("h3",{className:"font-bold text-gray-800 mb-4",children:"Ubah Status"}),e[90]=ae):ae=e[90];let T;if(e[91]!==t.status||e[92]!==n||e[93]!==U){let a;e[95]!==t.status||e[96]!==U?(a=r=>s.jsxs("button",{onClick:()=>U(r.value),disabled:t.status===r.value,className:`w-full text-left px-4 py-2 rounded-lg text-sm font-medium transition-colors ${t.status===r.value?"bg-emerald-100 text-emerald-700 cursor-default":"bg-gray-50 text-gray-600 hover:bg-gray-100"}`,children:[t.status===r.value&&s.jsx(ge,{size:14,className:"inline mr-2"}),r.label]},r.value),e[95]=t.status,e[96]=U,e[97]=a):a=e[97],T=n.map(a),e[91]=t.status,e[92]=n,e[93]=U,e[94]=T}else T=e[94];let B;e[98]!==T?(B=s.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 p-6",children:[ae,s.jsx("div",{className:"space-y-2",children:T})]}),e[98]=T,e[99]=B):B=e[99];let le;e[100]===Symbol.for("react.memo_cache_sentinel")?(le=s.jsxs("h3",{className:"font-bold text-gray-800 flex items-center gap-2 mb-4",children:[s.jsx($e,{size:18,className:"text-emerald-600"})," Tagihan"]}),e[100]=le):le=e[100];let F;e[101]!==t.invoices||e[102]!==re?(F=s.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 p-6",children:[le,t.invoices.length===0?s.jsx("p",{className:"text-sm text-gray-400",children:"Belum ada tagihan."}):s.jsx("div",{className:"space-y-3",children:t.invoices.map(a=>s.jsxs("div",{className:"p-3 bg-gray-50 rounded-xl",children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsx("span",{className:"text-xs text-gray-400 font-mono",children:a.code}),s.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${a.status==="lunas"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:a.status==="lunas"?"Lunas":"Belum Lunas"})]}),s.jsx("p",{className:"text-sm font-bold text-gray-800",children:a.type==="biaya_formulir"?"Formulir":"Daftar Ulang"}),s.jsx("p",{className:"text-emerald-700 font-bold",children:Be(a.amount)}),a.proof_path&&a.status!=="lunas"&&s.jsx("button",{onClick:()=>re(a.id),className:"mt-2 w-full py-1.5 bg-emerald-600 text-white rounded-lg text-xs font-medium hover:bg-emerald-700 transition-colors",children:"Verifikasi Pembayaran"})]},a.id))})]}),e[101]=t.invoices,e[102]=re,e[103]=F):F=e[103];let K;e[104]!==B||e[105]!==F?(K=s.jsxs("div",{className:"space-y-6",children:[B,F]}),e[104]=B,e[105]=F,e[106]=K):K=e[106];let P;e[107]!==D||e[108]!==K?(P=s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[D,K]}),e[107]=D,e[108]=K,e[109]=P):P=e[109];let I;e[110]!==i||e[111]!==h||e[112]!==P||e[113]!==d?(I=s.jsxs(_e,{navGroups:d,sidebarVariant:"light",institutionCode:i,children:[h,P]}),e[110]=i,e[111]=h,e[112]=P,e[113]=d,e[114]=I):I=e[114];let ie;return e[115]!==c||e[116]!==I?(ie=s.jsxs(s.Fragment,{children:[c,I]}),e[115]=c,e[116]=I,e[117]=ie):ie=e[117],ie}function Fe(l){return s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-xl text-sm",children:[s.jsx("span",{className:"font-medium text-gray-700",children:ze[l.type]||l.type}),s.jsxs("div",{className:"flex items-center gap-3",children:[l.score!==null&&s.jsx("span",{className:"font-bold text-gray-800",children:l.score}),l.result&&s.jsx("span",{className:`text-xs font-bold px-2.5 py-0.5 rounded-full ${l.result==="direkomendasikan"?"bg-green-100 text-green-700":"bg-red-100 text-red-600"}`,children:l.result==="direkomendasikan"?"Rekomendasi":"Tidak"})]})]},l.id)}function Ke(l){return s.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl text-sm",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"font-bold text-gray-800 capitalize",children:l.type}),l.phone&&s.jsx("span",{className:"text-gray-400 text-xs",children:l.phone})]}),s.jsx("p",{className:"text-gray-700",children:l.name}),s.jsxs("div",{className:"flex gap-4 mt-1 text-xs text-gray-400",children:[l.job&&s.jsxs("span",{children:["Pekerjaan: ",l.job]}),l.income&&s.jsxs("span",{children:["Penghasilan: ",l.income.replace(/_/g," ")]})]})]},l.id)}function Pe(l){return l.toUpperCase()}export{es as default};
