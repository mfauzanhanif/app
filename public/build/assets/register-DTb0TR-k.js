import{b as D,e as B,j as a,H as E,L as G}from"./client-DWlEoVOe.js";import{c as H}from"./compiler-runtime-D9Fr3M0Q.js";import{U as M}from"./user-Dyn2hlmI.js";import{U as O}from"./users-CwJSaHBY.js";import{F as W}from"./file-text-Dtt_g5Cn.js";import{U as Q}from"./upload-yN9BWSOR.js";import{A as $}from"./arrow-left-BG7DO0cO.js";import{A as V}from"./arrow-right-CKNpiTT7.js";import{L as X}from"./loader-circle-C7BeXoJY.js";import"./createLucideIcon-D4AB4V62.js";const J=["Biodata Santri","Data Keluarga","Upload Berkas"];function de(A){const e=H.c(57),{wave:d}=A,[s,K]=D.useState(0);let x;e[0]===Symbol.for("react.memo_cache_sentinel")?(x={nik:"",name:"",gender:"",pob:"",dob:"",previous_school:"",nisn:"",address:"",families:[{type:"ayah",nik:"",name:"",phone:"",job:"",income:""},{type:"ibu",nik:"",name:"",phone:"",job:"",income:""}],documents:{}},e[0]=x):x=e[0];const{data:l,setData:r,post:L,processing:u,errors:n}=B(x);let z;e[1]!==l||e[2]!==r?(z=(t,i,o)=>{const T=[...l.families];T[t][i]=o,r("families",T)},e[1]=l,e[2]=r,e[3]=z):z=e[3];const c=z;let F;e[4]!==L||e[5]!==d.id?(F=t=>{t.preventDefault(),L(`/daftar/${d.id}`,{forceFormData:!0})},e[4]=L,e[5]=d.id,e[6]=F):F=e[6];const q=F,m=Y,I=`Pendaftaran â€” ${d.institution.name}`;let g;e[7]!==I?(g=a.jsx(E,{title:I}),e[7]=I,e[8]=g):g=e[8];let R;e[9]===Symbol.for("react.memo_cache_sentinel")?(R=a.jsxs(G,{href:"/",className:"flex items-center gap-2 text-gray-600 hover:text-emerald-700 text-sm font-medium",children:[a.jsx($,{size:16}),"Kembali"]}),e[9]=R):R=e[9];let h;e[10]!==d.institution.type?(h=a.jsx("p",{className:"text-xs text-gray-400",children:d.institution.type}),e[10]=d.institution.type,e[11]=h):h=e[11];let p;e[12]!==d.institution.name?(p=a.jsx("p",{className:"text-sm font-bold text-emerald-800",children:d.institution.name}),e[12]=d.institution.name,e[13]=p):p=e[13];let b;e[14]!==h||e[15]!==p?(b=a.jsx("div",{className:"bg-white border-b border-gray-100 shadow-sm",children:a.jsxs("div",{className:"max-w-3xl mx-auto px-6 py-4 flex items-center justify-between",children:[R,a.jsxs("div",{className:"text-right",children:[h,p]})]})}),e[14]=h,e[15]=p,e[16]=b):b=e[16];let j;e[17]!==s?(j=J.map((t,i)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold transition-all ${i===s?"bg-emerald-600 text-white shadow-lg shadow-emerald-200":i<s?"bg-emerald-100 text-emerald-700":"bg-gray-100 text-gray-400"}`,children:i+1}),a.jsx("span",{className:`text-xs font-medium hidden sm:block ${i===s?"text-emerald-700":"text-gray-400"}`,children:t}),i<J.length-1&&a.jsx("div",{className:`w-8 h-0.5 ${i<s?"bg-emerald-300":"bg-gray-200"}`})]},i)),e[17]=s,e[18]=j):j=e[18];let f;e[19]!==j?(f=a.jsx("div",{className:"flex items-center justify-center gap-2 mb-10",children:j}),e[19]=j,e[20]=f):f=e[20];let v;e[21]!==l||e[22]!==n||e[23]!==r||e[24]!==s?(v=s===0&&a.jsxs("div",{className:"space-y-5",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"w-10 h-10 bg-emerald-50 rounded-xl flex items-center justify-center",children:a.jsx(M,{className:"text-emerald-600",size:20})}),a.jsxs("div",{children:[a.jsx("h2",{className:"font-bold text-gray-800 text-lg",children:"Biodata Calon Santri"}),a.jsx("p",{className:"text-gray-400 text-xs",children:"Lengkapi data diri calon santri"})]})]}),a.jsx(m,{label:"NIK",name:"nik",value:l.nik,onChange:t=>r("nik",t.target.value),error:n.nik,required:!0,maxLength:16,placeholder:"16 digit NIK"}),a.jsx(m,{label:"Nama Lengkap",name:"name",value:l.name,onChange:t=>r("name",t.target.value),error:n.name,required:!0}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Jenis Kelamin ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{value:l.gender,onChange:t=>r("gender",t.target.value),className:"w-full px-4 py-2.5 rounded-xl border border-gray-200 bg-gray-50 focus:bg-white focus:border-emerald-500 focus:ring-2 focus:ring-emerald-100 text-sm",children:[a.jsx("option",{value:"",children:"Pilih"}),a.jsx("option",{value:"l",children:"Laki-laki"}),a.jsx("option",{value:"p",children:"Perempuan"})]}),n.gender&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:n.gender})]}),a.jsx(m,{label:"Tempat Lahir",name:"pob",value:l.pob,onChange:t=>r("pob",t.target.value),error:n.pob,required:!0})]}),a.jsx(m,{label:"Tanggal Lahir",name:"dob",type:"date",value:l.dob,onChange:t=>r("dob",t.target.value),error:n.dob,required:!0}),a.jsx(m,{label:"Asal Sekolah",name:"previous_school",value:l.previous_school,onChange:t=>r("previous_school",t.target.value),error:n.previous_school}),a.jsx(m,{label:"NISN",name:"nisn",value:l.nisn,onChange:t=>r("nisn",t.target.value),error:n.nisn}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Alamat ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("textarea",{value:l.address,onChange:t=>r("address",t.target.value),rows:3,className:"w-full px-4 py-2.5 rounded-xl border border-gray-200 bg-gray-50 focus:bg-white focus:border-emerald-500 focus:ring-2 focus:ring-emerald-100 text-sm"}),n.address&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:n.address})]})]}),e[21]=l,e[22]=n,e[23]=r,e[24]=s,e[25]=v):v=e[25];let y;e[26]!==l||e[27]!==s||e[28]!==c?(y=s===1&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-50 rounded-xl flex items-center justify-center",children:a.jsx(O,{className:"text-blue-600",size:20})}),a.jsxs("div",{children:[a.jsx("h2",{className:"font-bold text-gray-800 text-lg",children:"Data Orang Tua / Wali"}),a.jsx("p",{className:"text-gray-400 text-xs",children:"Minimal isi data Ayah atau Ibu"})]})]}),l.families.map((t,i)=>a.jsxs("div",{className:"p-5 bg-gray-50 rounded-xl space-y-4",children:[a.jsx("h3",{className:"font-bold text-gray-700 capitalize",children:t.type}),a.jsx(m,{label:"Nama",value:t.name,onChange:o=>c(i,"name",o.target.value),required:!0}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(m,{label:"NIK",value:t.nik,onChange:o=>c(i,"nik",o.target.value),maxLength:16}),a.jsx(m,{label:"No. HP",value:t.phone,onChange:o=>c(i,"phone",o.target.value)})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(m,{label:"Pekerjaan",value:t.job,onChange:o=>c(i,"job",o.target.value)}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Penghasilan"}),a.jsxs("select",{value:t.income,onChange:o=>c(i,"income",o.target.value),className:"w-full px-4 py-2.5 rounded-xl border border-gray-200 bg-white focus:border-emerald-500 text-sm",children:[a.jsx("option",{value:"",children:"Pilih"}),a.jsx("option",{value:"kurang_1jt",children:"< Rp 1 Juta"}),a.jsx("option",{value:"1_3jt",children:"Rp 1-3 Juta"}),a.jsx("option",{value:"3_5jt",children:"Rp 3-5 Juta"}),a.jsx("option",{value:"5_10jt",children:"Rp 5-10 Juta"}),a.jsx("option",{value:"lebih_10jt",children:"> Rp 10 Juta"})]})]})]})]},i))]}),e[26]=l,e[27]=s,e[28]=c,e[29]=y):y=e[29];let N;e[30]!==l||e[31]!==r||e[32]!==s?(N=s===2&&a.jsxs("div",{className:"space-y-5",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"w-10 h-10 bg-purple-50 rounded-xl flex items-center justify-center",children:a.jsx(W,{className:"text-purple-600",size:20})}),a.jsxs("div",{children:[a.jsx("h2",{className:"font-bold text-gray-800 text-lg",children:"Upload Berkas"}),a.jsx("p",{className:"text-gray-400 text-xs",children:"Format: JPG, PNG, PDF. Maks: 5MB"})]})]}),[{key:"kk",label:"Kartu Keluarga"},{key:"akta",label:"Akta Kelahiran"},{key:"ktp_wali",label:"KTP Orang Tua/Wali"},{key:"foto",label:"Pas Foto (3x4)"},{key:"ijazah",label:"Ijazah / SKL"}].map(t=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl border border-gray-200",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:t.label}),a.jsxs("label",{className:"cursor-pointer inline-flex items-center gap-2 text-sm text-emerald-600 hover:text-emerald-700 font-medium bg-emerald-50 px-4 py-2 rounded-lg hover:bg-emerald-100 transition-colors",children:[a.jsx(Q,{size:14}),l.documents[t.key]?"Ganti":"Upload",a.jsx("input",{type:"file",className:"hidden",accept:".jpg,.jpeg,.png,.pdf",onChange:i=>{const o=i.target.files?.[0]||null;r("documents",{...l.documents,[t.key]:o})}})]})]},t.key))]}),e[30]=l,e[31]=r,e[32]=s,e[33]=N):N=e[33];let k;e[34]!==s?(k=s>0?a.jsxs("button",{type:"button",onClick:()=>K(s-1),className:"inline-flex items-center gap-2 px-6 py-2.5 text-gray-600 bg-gray-100 rounded-xl text-sm font-medium hover:bg-gray-200 transition-colors",children:[a.jsx($,{size:16}),"Sebelumnya"]}):a.jsx("div",{}),e[34]=s,e[35]=k):k=e[35];let w;e[36]!==u||e[37]!==s?(w=s<J.length-1?a.jsxs("button",{type:"button",onClick:()=>K(s+1),className:"inline-flex items-center gap-2 px-6 py-2.5 bg-emerald-600 text-white rounded-xl text-sm font-medium shadow-sm hover:bg-emerald-700 transition-colors",children:["Selanjutnya",a.jsx(V,{size:16})]}):a.jsxs("button",{type:"submit",disabled:u,className:"inline-flex items-center gap-2 px-8 py-2.5 bg-emerald-600 text-white rounded-xl text-sm font-bold shadow-lg hover:bg-emerald-700 transition-all disabled:opacity-50",children:[u?a.jsx(X,{size:16,className:"animate-spin"}):null,"Kirim Pendaftaran"]}),e[36]=u,e[37]=s,e[38]=w):w=e[38];let C;e[39]!==k||e[40]!==w?(C=a.jsxs("div",{className:"flex justify-between mt-8 pt-6 border-t border-gray-100",children:[k,w]}),e[39]=k,e[40]=w,e[41]=C):C=e[41];let S;e[42]!==q||e[43]!==v||e[44]!==y||e[45]!==N||e[46]!==C?(S=a.jsxs("form",{onSubmit:q,className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-8",children:[v,y,N,C]}),e[42]=q,e[43]=v,e[44]=y,e[45]=N,e[46]=C,e[47]=S):S=e[47];let P;e[48]!==f||e[49]!==S?(P=a.jsxs("div",{className:"max-w-3xl mx-auto px-6 py-8",children:[f,S]}),e[48]=f,e[49]=S,e[50]=P):P=e[50];let _;e[51]!==P||e[52]!==b?(_=a.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-emerald-50 to-white font-sans",children:[b,P]}),e[51]=P,e[52]=b,e[53]=_):_=e[53];let U;return e[54]!==_||e[55]!==g?(U=a.jsxs(a.Fragment,{children:[g,_]}),e[54]=_,e[55]=g,e[56]=U):U=e[56],U}function Y(A){const{label:e,name:d,type:s,value:K,onChange:x,error:l,required:r,...L}=A,u=s===void 0?"text":s,n=r===void 0?!1:r;return a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[e," ",n&&a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:u,value:K,onChange:x,className:`w-full px-4 py-2.5 rounded-xl border ${l?"border-red-400 ring-1 ring-red-200":"border-gray-200"} bg-gray-50 focus:bg-white focus:border-emerald-500 focus:ring-2 focus:ring-emerald-100 transition-all text-sm`,...L}),l&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:l})]})}export{de as default};
