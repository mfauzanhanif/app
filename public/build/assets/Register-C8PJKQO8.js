import{b as H,e as O,j as t}from"./client-DWlEoVOe.js";import{c as q}from"./compiler-runtime-D9Fr3M0Q.js";import{a as Q,P as X}from"./index-0VHoH5B6.js";const U=["Data Santri","Data Keluarga","Upload Berkas"];function le(f){const e=q.c(67),{wave:n}=f,[a,c]=H.useState(0);let m,o;e[0]===Symbol.for("react.memo_cache_sentinel")?(m=[{type:"ayah",nik:"",name:"",phone:"",job:"",income:""},{type:"ibu",nik:"",name:"",phone:"",job:"",income:""}],o={},e[0]=m,e[1]=o):(m=e[0],o=e[1]);let g;e[2]===Symbol.for("react.memo_cache_sentinel")?(g={nik:"",name:"",gender:"L",pob:"",dob:"",previous_school:"",nisn:"",address:"",families:m,documents:o},e[2]=g):g=e[2];const{data:r,setData:l,post:u,processing:x,errors:i}=O(g);let b;e[3]!==r||e[4]!==l?(b=function(d,y,V){const z=[...r.families];z[d][y]=V,l("families",z)},e[3]=r,e[4]=l,e[5]=b):b=e[5];const h=b;let p;e[6]!==u||e[7]!==n.id?(p=function(d){d.preventDefault(),u(`/daftar/${n.id}`,{forceFormData:!0})},e[6]=u,e[7]=n.id,e[8]=p):p=e[8];const k=p;let v;e[9]!==r||e[10]!==a?(v=function(){return a===0?r.nik&&r.name&&r.dob:a===1?r.families[0].name&&r.families[1].name:!0},e[9]=r,e[10]=a,e[11]=v):v=e[11];const E=v,R=`Pendaftaran — ${n.name}`;let N;e[12]!==n.institution.name?(N=t.jsx("span",{className:"inline-flex items-center rounded-full bg-emerald-50 px-3 py-1 text-xs font-semibold text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-300",children:n.institution.name}),e[12]=n.institution.name,e[13]=N):N=e[13];let w;e[14]!==n.name?(w=t.jsx("h1",{className:"mt-3 text-2xl font-bold text-gray-900 dark:text-white sm:text-3xl",children:n.name}),e[14]=n.name,e[15]=w):w=e[15];let C;e[16]!==n.registration_fee?(C=Q(n.registration_fee),e[16]=n.registration_fee,e[17]=C):C=e[17];let L;e[18]!==C?(L=t.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:["Biaya Formulir: ",t.jsx("strong",{className:"text-emerald-600",children:C})]}),e[18]=C,e[19]=L):L=e[19];let S;e[20]!==L||e[21]!==N||e[22]!==w?(S=t.jsxs("div",{className:"mb-8 text-center",children:[N,w,L]}),e[20]=L,e[21]=N,e[22]=w,e[23]=S):S=e[23];let P;e[24]!==a?(P=U.map((s,d)=>t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{type:"button",onClick:()=>d<a&&c(d),className:`flex items-center gap-2 rounded-full px-4 py-2 text-sm font-medium transition-all ${d===a?"bg-emerald-500 text-white shadow-lg shadow-emerald-200/50":d<a?"bg-emerald-100 text-emerald-700 hover:bg-emerald-200 dark:bg-emerald-900/30 dark:text-emerald-300":"bg-gray-100 text-gray-400 dark:bg-gray-800 dark:text-gray-500"}`,children:[t.jsx("span",{className:`flex h-6 w-6 items-center justify-center rounded-full text-xs font-bold ${d<=a?"bg-white/20":""}`,children:d<a?"✓":d+1}),t.jsx("span",{className:"hidden sm:inline",children:s})]}),d<U.length-1&&t.jsx("div",{className:`hidden h-px w-8 sm:block ${d<a?"bg-emerald-300":"bg-gray-200 dark:bg-gray-700"}`})]},s)),e[24]=a,e[25]=P):P=e[25];let _;e[26]!==P?(_=t.jsx("div",{className:"mb-10 flex items-center justify-center gap-2",children:P}),e[26]=P,e[27]=_):_=e[27];let F;e[28]!==r||e[29]!==i||e[30]!==l||e[31]!==a?(F=a===0&&t.jsxs("div",{className:"space-y-6",children:[t.jsx(J,{children:"Data Calon Santri"}),t.jsxs("div",{className:"grid gap-5 sm:grid-cols-2",children:[t.jsx(j,{label:"NIK",value:r.nik,onChange:s=>l("nik",s),error:i.nik,required:!0}),t.jsx(j,{label:"Nama Lengkap",value:r.name,onChange:s=>l("name",s),error:i.name,required:!0}),t.jsx(Y,{label:"Jenis Kelamin",value:r.gender,onChange:s=>l("gender",s),options:[{value:"L",label:"Laki-laki"},{value:"P",label:"Perempuan"}]}),t.jsx(j,{label:"Tempat Lahir",value:r.pob,onChange:s=>l("pob",s),error:i.pob}),t.jsx(j,{label:"Tanggal Lahir",type:"date",value:r.dob,onChange:s=>l("dob",s),error:i.dob,required:!0}),t.jsx(j,{label:"NISN",value:r.nisn,onChange:s=>l("nisn",s),error:i.nisn}),t.jsx(j,{label:"Asal Sekolah",value:r.previous_school,onChange:s=>l("previous_school",s),error:i.previous_school,className:"sm:col-span-2"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Alamat Lengkap"}),t.jsx("textarea",{rows:3,value:r.address,onChange:s=>l("address",s.target.value),className:"w-full rounded-xl border border-gray-200 bg-gray-50 px-4 py-3 text-sm transition-colors focus:border-emerald-500 focus:bg-white focus:outline-none focus:ring-2 focus:ring-emerald-500/20 dark:border-gray-600 dark:bg-gray-700 dark:text-white"})]})]}),e[28]=r,e[29]=i,e[30]=l,e[31]=a,e[32]=F):F=e[32];let B;e[33]!==r||e[34]!==a||e[35]!==h?(B=a===1&&t.jsx("div",{className:"space-y-8",children:r.families.map((s,d)=>t.jsxs("div",{children:[t.jsx(J,{children:s.type==="ayah"?"Data Ayah":"Data Ibu"}),t.jsxs("div",{className:"mt-4 grid gap-5 sm:grid-cols-2",children:[t.jsx(j,{label:"NIK",value:s.nik,onChange:y=>h(d,"nik",y)}),t.jsx(j,{label:"Nama Lengkap",value:s.name,onChange:y=>h(d,"name",y),required:!0}),t.jsx(j,{label:"No. Telepon",value:s.phone,onChange:y=>h(d,"phone",y)}),t.jsx(j,{label:"Pekerjaan",value:s.job,onChange:y=>h(d,"job",y)}),t.jsx(j,{label:"Penghasilan /bulan",value:s.income,onChange:y=>h(d,"income",y)})]})]},s.type))}),e[33]=r,e[34]=a,e[35]=h,e[36]=B):B=e[36];let $;e[37]!==r||e[38]!==l||e[39]!==a?($=a===2&&t.jsxs("div",{className:"space-y-6",children:[t.jsx(J,{children:"Upload Berkas"}),t.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Upload dokumen dalam format JPG, PNG, atau PDF (maks 5MB per file)."}),t.jsx("div",{className:"grid gap-5 sm:grid-cols-2",children:[{key:"akta_lahir",label:"Akta Kelahiran"},{key:"kk",label:"Kartu Keluarga"},{key:"foto",label:"Pas Foto (3x4)"},{key:"rapor",label:"Rapor Terakhir"}].map(s=>t.jsx(ee,{label:s.label,file:r.documents[s.key]??null,onChange:d=>l("documents",{...r.documents,[s.key]:d})},s.key))})]}),e[37]=r,e[38]=l,e[39]=a,e[40]=$):$=e[40];let D;e[41]!==F||e[42]!==B||e[43]!==$?(D=t.jsxs("div",{className:"p-6 sm:p-8",children:[F,B,$]}),e[41]=F,e[42]=B,e[43]=$,e[44]=D):D=e[44];let M;e[45]!==a?(M=a>0?t.jsxs("button",{type:"button",onClick:()=>c(a-1),className:"inline-flex items-center gap-1.5 rounded-lg px-4 py-2 text-sm font-medium text-gray-600 transition-colors hover:bg-gray-100 hover:text-gray-900 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white",children:[t.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"})}),"Sebelumnya"]}):t.jsx("div",{}),e[45]=a,e[46]=M):M=e[46];let K;e[47]!==E||e[48]!==x||e[49]!==a?(K=a<U.length-1?t.jsxs("button",{type:"button",disabled:!E(),onClick:()=>c(a+1),className:"inline-flex items-center gap-1.5 rounded-lg bg-emerald-500 px-6 py-2.5 text-sm font-semibold text-white shadow-sm transition-all hover:bg-emerald-600 disabled:cursor-not-allowed disabled:opacity-40",children:["Selanjutnya",t.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"})})]}):t.jsx("button",{type:"submit",disabled:x,className:"inline-flex items-center gap-2 rounded-lg bg-gradient-to-r from-emerald-500 to-teal-600 px-8 py-2.5 text-sm font-bold text-white shadow-lg transition-all hover:from-emerald-600 hover:to-teal-700 disabled:opacity-50",children:x?t.jsxs(t.Fragment,{children:[t.jsxs("svg",{className:"h-4 w-4 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Mengirim..."]}):t.jsxs(t.Fragment,{children:["Kirim Pendaftaran",t.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"})})]})}),e[47]=E,e[48]=x,e[49]=a,e[50]=K):K=e[50];let A;e[51]!==M||e[52]!==K?(A=t.jsxs("div",{className:"flex items-center justify-between border-t border-gray-100 bg-gray-50/50 px-6 py-4 dark:border-gray-700 dark:bg-gray-800/50 sm:px-8",children:[M,K]}),e[51]=M,e[52]=K,e[53]=A):A=e[53];let G;e[54]!==D||e[55]!==A?(G=t.jsxs("div",{className:"overflow-hidden rounded-2xl border border-gray-100 bg-white shadow-sm dark:border-gray-700 dark:bg-gray-800",children:[D,A]}),e[54]=D,e[55]=A,e[56]=G):G=e[56];let T;e[57]!==k||e[58]!==G?(T=t.jsx("form",{onSubmit:k,children:G}),e[57]=k,e[58]=G,e[59]=T):T=e[59];let W;e[60]!==S||e[61]!==_||e[62]!==T?(W=t.jsxs("div",{className:"mx-auto max-w-4xl px-4 py-10 sm:px-6 lg:px-8",children:[S,_,T]}),e[60]=S,e[61]=_,e[62]=T,e[63]=W):W=e[63];let I;return e[64]!==W||e[65]!==R?(I=t.jsx(X,{title:R,children:W}),e[64]=W,e[65]=R,e[66]=I):I=e[66],I}function J(f){const e=q.c(3),{children:n}=f;let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=t.jsx("div",{className:"h-5 w-1 rounded-full bg-gradient-to-b from-emerald-500 to-teal-500"}),e[0]=a):a=e[0];let c;return e[1]!==n?(c=t.jsxs("h3",{className:"flex items-center gap-2 text-lg font-bold text-gray-900 dark:text-white",children:[a,n]}),e[1]=n,e[2]=c):c=e[2],c}function j(f){const e=q.c(18),{label:n,value:a,onChange:c,error:m,type:o,required:g,className:r}=f,l=o===void 0?"text":o,u=r===void 0?"":r;let x;e[0]!==g?(x=g&&t.jsx("span",{className:"text-red-400",children:"*"}),e[0]=g,e[1]=x):x=e[1];let i;e[2]!==n||e[3]!==x?(i=t.jsxs("label",{className:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-300",children:[n," ",x]}),e[2]=n,e[3]=x,e[4]=i):i=e[4];let b;e[5]!==c?(b=v=>c(v.target.value),e[5]=c,e[6]=b):b=e[6];let h;e[7]!==b||e[8]!==l||e[9]!==a?(h=t.jsx("input",{type:l,value:a,onChange:b,className:"w-full rounded-xl border border-gray-200 bg-gray-50 px-4 py-2.5 text-sm transition-colors focus:border-emerald-500 focus:bg-white focus:outline-none focus:ring-2 focus:ring-emerald-500/20 dark:border-gray-600 dark:bg-gray-700 dark:text-white"}),e[7]=b,e[8]=l,e[9]=a,e[10]=h):h=e[10];let p;e[11]!==m?(p=m&&t.jsx("p",{className:"mt-1 text-xs text-red-500",children:m}),e[11]=m,e[12]=p):p=e[12];let k;return e[13]!==u||e[14]!==i||e[15]!==h||e[16]!==p?(k=t.jsxs("div",{className:u,children:[i,h,p]}),e[13]=u,e[14]=i,e[15]=h,e[16]=p,e[17]=k):k=e[17],k}function Y(f){const e=q.c(13),{label:n,value:a,onChange:c,options:m}=f;let o;e[0]!==n?(o=t.jsx("label",{className:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-300",children:n}),e[0]=n,e[1]=o):o=e[1];let g;e[2]!==c?(g=x=>c(x.target.value),e[2]=c,e[3]=g):g=e[3];let r;e[4]!==m?(r=m.map(Z),e[4]=m,e[5]=r):r=e[5];let l;e[6]!==g||e[7]!==r||e[8]!==a?(l=t.jsx("select",{value:a,onChange:g,className:"w-full rounded-xl border border-gray-200 bg-gray-50 px-4 py-2.5 text-sm transition-colors focus:border-emerald-500 focus:bg-white focus:outline-none focus:ring-2 focus:ring-emerald-500/20 dark:border-gray-600 dark:bg-gray-700 dark:text-white",children:r}),e[6]=g,e[7]=r,e[8]=a,e[9]=l):l=e[9];let u;return e[10]!==o||e[11]!==l?(u=t.jsxs("div",{children:[o,l]}),e[10]=o,e[11]=l,e[12]=u):u=e[12],u}function Z(f){return t.jsx("option",{value:f.value,children:f.label},f.value)}function ee(f){const e=q.c(22),{label:n,file:a,onChange:c}=f;let m;e[0]!==n?(m=t.jsx("label",{className:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-300",children:n}),e[0]=n,e[1]=m):m=e[1];let o;e[2]!==a?(o=t.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-lg bg-emerald-100 text-emerald-600 dark:bg-emerald-900/30 dark:text-emerald-400",children:a?t.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"})}):t.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"})})}),e[2]=a,e[3]=o):o=e[3];const g=a?a.name:"Pilih file...";let r;e[4]!==g?(r=t.jsx("p",{className:"truncate text-sm font-medium text-gray-700 dark:text-gray-300",children:g}),e[4]=g,e[5]=r):r=e[5];let l;e[6]!==a?(l=a?`${(a.size/1024).toFixed(0)} KB`:"JPG, PNG, PDF (maks 5MB)",e[6]=a,e[7]=l):l=e[7];let u;e[8]!==l?(u=t.jsx("p",{className:"text-xs text-gray-400",children:l}),e[8]=l,e[9]=u):u=e[9];let x;e[10]!==r||e[11]!==u?(x=t.jsxs("div",{className:"min-w-0 flex-1",children:[r,u]}),e[10]=r,e[11]=u,e[12]=x):x=e[12];let i;e[13]!==c?(i=t.jsx("input",{type:"file",accept:".jpg,.jpeg,.png,.pdf",className:"hidden",onChange:p=>c(p.target.files?.[0]??null)}),e[13]=c,e[14]=i):i=e[14];let b;e[15]!==o||e[16]!==x||e[17]!==i?(b=t.jsxs("label",{className:"flex cursor-pointer items-center gap-3 rounded-xl border-2 border-dashed border-gray-200 bg-gray-50 px-4 py-4 transition-all hover:border-emerald-400 hover:bg-emerald-50/30 dark:border-gray-600 dark:bg-gray-700 dark:hover:border-emerald-600",children:[o,x,i]}),e[15]=o,e[16]=x,e[17]=i,e[18]=b):b=e[18];let h;return e[19]!==m||e[20]!==b?(h=t.jsxs("div",{children:[m,b]}),e[19]=m,e[20]=b,e[21]=h):h=e[21],h}export{le as default};
