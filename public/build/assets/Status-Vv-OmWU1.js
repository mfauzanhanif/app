import{j as t,e as S}from"./client-DWlEoVOe.js";import{c as k}from"./compiler-runtime-D9Fr3M0Q.js";import{P,S as L,a as $}from"./index-0VHoH5B6.js";function V(s){const e=k.c(3),{candidates:a}=s;let l;e[0]===Symbol.for("react.memo_cache_sentinel")?(l=t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white sm:text-3xl",children:"Status Pendaftaran"}),t.jsx("p",{className:"mt-2 text-gray-500 dark:text-gray-400",children:"Pantau status pendaftaran dan invoice Anda"})]}),e[0]=l):l=e[0];let r;return e[1]!==a?(r=t.jsx(P,{title:"Status Pendaftaran",children:t.jsxs("div",{className:"mx-auto max-w-5xl px-4 py-10 sm:px-6 lg:px-8",children:[l,a.length===0?t.jsx(A,{}):t.jsx("div",{className:"space-y-6",children:a.map(C)})]})}),e[1]=a,e[2]=r):r=e[2],r}function C(s){return t.jsx(M,{candidate:s},s.id)}function A(){const s=k.c(1);let e;return s[0]===Symbol.for("react.memo_cache_sentinel")?(e=t.jsxs("div",{className:"mx-auto max-w-md rounded-2xl border border-gray-200 bg-white p-12 text-center dark:border-gray-700 dark:bg-gray-800",children:[t.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-gray-100 dark:bg-gray-700",children:t.jsx("svg",{className:"h-8 w-8 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})})}),t.jsx("h3",{className:"text-lg font-semibold text-gray-700 dark:text-gray-300",children:"Belum ada pendaftaran"}),t.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Anda belum mendaftar ke gelombang PSB manapun."}),t.jsx("a",{href:"/",className:"mt-6 inline-flex items-center gap-2 rounded-lg bg-emerald-500 px-5 py-2.5 text-sm font-semibold text-white transition-colors hover:bg-emerald-600",children:"Daftar Sekarang"})]}),s[0]=e):e=s[0],e}function M(s){const e=k.c(32),{candidate:a}=s;let l;e[0]!==a.status?(l=L[a.status]??{label:a.status,color:"bg-gray-100 text-gray-600"},e[0]=a.status,e[1]=l):l=e[1];const r=l;let i;e[2]===Symbol.for("react.memo_cache_sentinel")?(i=t.jsx("p",{className:"text-xs font-medium text-gray-400",children:"No. Pendaftaran"}),e[2]=i):i=e[2];let n;e[3]!==a.registration_number?(n=t.jsxs("div",{children:[i,t.jsx("p",{className:"text-lg font-bold tracking-wide text-gray-900 dark:text-white",children:a.registration_number})]}),e[3]=a.registration_number,e[4]=n):n=e[4];const h=`inline-flex w-fit items-center rounded-full px-3 py-1 text-xs font-bold ${r.color}`;let f;e[5]!==r.label||e[6]!==h?(f=t.jsx("span",{className:h,children:r.label}),e[5]=r.label,e[6]=h,e[7]=f):f=e[7];let x;e[8]!==n||e[9]!==f?(x=t.jsxs("div",{className:"flex flex-col gap-3 border-b border-gray-100 bg-gray-50/50 px-6 py-4 sm:flex-row sm:items-center sm:justify-between dark:border-gray-700 dark:bg-gray-800/50",children:[n,f]}),e[8]=n,e[9]=f,e[10]=x):x=e[10];let g;e[11]!==a.name?(g=t.jsx(w,{label:"Nama Santri",value:a.name}),e[11]=a.name,e[12]=g):g=e[12];let u;e[13]!==a.institution.name?(u=t.jsx(w,{label:"Lembaga",value:a.institution.name}),e[13]=a.institution.name,e[14]=u):u=e[14];let o;e[15]!==a.admission_wave.name?(o=t.jsx(w,{label:"Gelombang",value:a.admission_wave.name}),e[15]=a.admission_wave.name,e[16]=o):o=e[16];let d;e[17]!==g||e[18]!==u||e[19]!==o?(d=t.jsxs("div",{className:"grid gap-4 text-sm sm:grid-cols-3",children:[g,u,o]}),e[17]=g,e[18]=u,e[19]=o,e[20]=d):d=e[20];let c;e[21]!==a.documents?(c=a.documents.length>0&&t.jsxs("div",{className:"mt-6",children:[t.jsx("h4",{className:"mb-3 text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Berkas"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:a.documents.map(U)})]}),e[21]=a.documents,e[22]=c):c=e[22];let m;e[23]!==a.invoices?(m=a.invoices.length>0&&t.jsxs("div",{className:"mt-6 space-y-4",children:[t.jsx("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Invoice"}),a.invoices.map(B)]}),e[23]=a.invoices,e[24]=m):m=e[24];let p;e[25]!==d||e[26]!==c||e[27]!==m?(p=t.jsxs("div",{className:"p-6",children:[d,c,m]}),e[25]=d,e[26]=c,e[27]=m,e[28]=p):p=e[28];let b;return e[29]!==p||e[30]!==x?(b=t.jsxs("div",{className:"overflow-hidden rounded-2xl border border-gray-100 bg-white shadow-sm dark:border-gray-700 dark:bg-gray-800",children:[x,p]}),e[29]=p,e[30]=x,e[31]=b):b=e[31],b}function B(s){return t.jsx(I,{invoice:s},s.id)}function U(s){return t.jsxs("span",{className:`inline-flex items-center gap-1.5 rounded-lg px-3 py-1.5 text-xs font-medium ${s.is_valid===!0?"bg-green-50 text-green-700 dark:bg-green-900/30 dark:text-green-300":s.is_valid===!1?"bg-red-50 text-red-700 dark:bg-red-900/30 dark:text-red-300":"bg-yellow-50 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-300"}`,children:[s.is_valid===!0?"✓":s.is_valid===!1?"✗":"⏳",s.file_type.replace(/_/g," ")]},s.id)}function w(s){const e=k.c(7),{label:a,value:l}=s;let r;e[0]!==a?(r=t.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:a}),e[0]=a,e[1]=r):r=e[1];let i;e[2]!==l?(i=t.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:l}),e[2]=l,e[3]=i):i=e[3];let n;return e[4]!==r||e[5]!==i?(n=t.jsxs("div",{children:[r,i]}),e[4]=r,e[5]=i,e[6]=n):n=e[6],n}function I(s){const e=k.c(30),{invoice:a}=s,l=a.status==="lunas",r=!!a.proof_path;let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i={proof:null},e[0]=i):i=e[0];const{data:n,setData:h,post:f,processing:x}=S(i);let g;e[1]!==n.proof||e[2]!==a.id||e[3]!==f?(g=function(){n.proof&&f(`/invoices/${a.id}/upload-proof`,{forceFormData:!0})},e[1]=n.proof,e[2]=a.id,e[3]=f,e[4]=g):g=e[4];const u=g;let o;e[5]!==a.code?(o=t.jsx("p",{className:"text-xs text-gray-400",children:a.code}),e[5]=a.code,e[6]=o):o=e[6];let d;e[7]!==a.amount?(d=$(a.amount),e[7]=a.amount,e[8]=d):d=e[8];let c;e[9]!==d?(c=t.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:d}),e[9]=d,e[10]=c):c=e[10];let m;e[11]!==o||e[12]!==c?(m=t.jsxs("div",{children:[o,c]}),e[11]=o,e[12]=c,e[13]=m):m=e[13];const p=`rounded-full px-3 py-1 text-xs font-bold ${l?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300":r?"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-300":"bg-red-100 text-red-600 dark:bg-red-900/30 dark:text-red-300"}`,b=l?"Lunas":r?"Menunggu Verifikasi":"Belum Lunas";let y;e[14]!==p||e[15]!==b?(y=t.jsx("span",{className:p,children:b}),e[14]=p,e[15]=b,e[16]=y):y=e[16];let j;e[17]!==m||e[18]!==y?(j=t.jsxs("div",{className:"flex items-center justify-between",children:[m,y]}),e[17]=m,e[18]=y,e[19]=j):j=e[19];let v;e[20]!==n.proof||e[21]!==u||e[22]!==r||e[23]!==l||e[24]!==x||e[25]!==h?(v=!l&&!r&&t.jsxs("div",{className:"mt-4 flex items-center gap-3",children:[t.jsxs("label",{className:"flex flex-1 cursor-pointer items-center gap-2 rounded-lg border-2 border-dashed border-gray-200 bg-white px-3 py-2.5 text-sm transition-colors hover:border-emerald-400 dark:border-gray-600 dark:bg-gray-800",children:[t.jsx("svg",{className:"h-4 w-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"})}),t.jsx("span",{className:"truncate text-gray-500",children:n.proof?.name||"Upload bukti transfer..."}),t.jsx("input",{type:"file",accept:".jpg,.jpeg,.png,.pdf",className:"hidden",onChange:_=>h("proof",_.target.files?.[0]??null)})]}),t.jsx("button",{type:"button",disabled:!n.proof||x,onClick:u,className:"shrink-0 rounded-lg bg-emerald-500 px-4 py-2.5 text-sm font-semibold text-white transition-colors hover:bg-emerald-600 disabled:opacity-40",children:x?"Mengunggah...":"Upload"})]}),e[20]=n.proof,e[21]=u,e[22]=r,e[23]=l,e[24]=x,e[25]=h,e[26]=v):v=e[26];let N;return e[27]!==j||e[28]!==v?(N=t.jsxs("div",{className:"rounded-xl border border-gray-100 bg-gray-50/50 p-4 dark:border-gray-700 dark:bg-gray-900/30",children:[j,v]}),e[27]=j,e[28]=v,e[29]=N):N=e[29],N}export{V as default};
