import{b as K,j as t,L as z,d as O,H as M}from"./client-DWlEoVOe.js";import{c as V}from"./compiler-runtime-D9Fr3M0Q.js";import{S as q,A as J}from"./app.layout-7Xx-yRrU.js";import{g as Q}from"./nav-config-CbqupiEb.js";import{E as W}from"./eye-BPMfITgS.js";import"./use-initials-CdVnSpd0.js";import"./createLucideIcon-D4AB4V62.js";import"./index-CSEUMRIG.js";import"./layout-dashboard-DUi8NNsd.js";import"./graduation-cap-dDOcVoAo.js";import"./users-CwJSaHBY.js";import"./wallet-DAg92wIV.js";const X={draft:"bg-gray-100 text-gray-600",diajukan:"bg-blue-100 text-blue-700",diverifikasi:"bg-indigo-100 text-indigo-700",jadwal_tes_ada:"bg-yellow-100 text-yellow-700",lulus:"bg-green-100 text-green-700",tidak_lulus:"bg-red-100 text-red-600",diterima:"bg-emerald-100 text-emerald-700"};function fe(s){const e=V.c(60),{candidates:l,waves:G,filters:i,statuses:H,institutionCode:r}=s,[o,B]=K.useState(i.search||"");let S;e[0]!==i||e[1]!==r?(S=(a,U)=>{O.get(`/${r}/candidates`,{...i,[a]:U||void 0},{preserveState:!0,replace:!0})},e[0]=i,e[1]=r,e[2]=S):S=e[2];const n=S;let w;e[3]!==n||e[4]!==o?(w=()=>n("search",o),e[3]=n,e[4]=o,e[5]=w):w=e[5];const R=w;let k;e[6]===Symbol.for("react.memo_cache_sentinel")?(k=t.jsx(M,{title:"Daftar Pendaftar"}),e[6]=k):k=e[6];let d;e[7]!==r?(d=Q(r),e[7]=r,e[8]=d):d=e[8];let C;e[9]===Symbol.for("react.memo_cache_sentinel")?(C=t.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Daftar Pendaftar"}),e[9]=C):C=e[9];let x;e[10]!==l.total?(x=t.jsxs("div",{className:"mb-6",children:[C,t.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Total: ",l.total," pendaftar"]})]}),e[10]=l.total,e[11]=x):x=e[11];let L;e[12]===Symbol.for("react.memo_cache_sentinel")?(L=t.jsx(q,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),e[12]=L):L=e[12];let A;e[13]===Symbol.for("react.memo_cache_sentinel")?(A=a=>B(a.target.value),e[13]=A):A=e[13];let c;e[14]!==R?(c=a=>a.key==="Enter"&&R(),e[14]=R,e[15]=c):c=e[15];let m;e[16]!==o||e[17]!==c?(m=t.jsx("div",{className:"flex items-center gap-2 flex-1 min-w-[250px]",children:t.jsxs("div",{className:"relative flex-1",children:[L,t.jsx("input",{type:"text",value:o,onChange:A,onKeyDown:c,placeholder:"Cari nama/NIK/no. reg...",className:"w-full pl-10 pr-4 py-2.5 rounded-xl border border-gray-200 bg-gray-50 focus:bg-white focus:border-emerald-500 focus:ring-2 focus:ring-emerald-100 text-sm"})]})}),e[16]=o,e[17]=c,e[18]=m):m=e[18];const I=i.wave_id||"";let p;e[19]!==n?(p=a=>n("wave_id",a.target.value),e[19]=n,e[20]=p):p=e[20];let E;e[21]===Symbol.for("react.memo_cache_sentinel")?(E=t.jsx("option",{value:"",children:"Semua Gelombang"}),e[21]=E):E=e[21];let u;e[22]!==G?(u=G.map(se),e[22]=G,e[23]=u):u=e[23];let g;e[24]!==I||e[25]!==p||e[26]!==u?(g=t.jsxs("select",{value:I,onChange:p,className:"px-4 py-2.5 rounded-xl border border-gray-200 bg-gray-50 text-sm",children:[E,u]}),e[24]=I,e[25]=p,e[26]=u,e[27]=g):g=e[27];const P=i.status||"";let f;e[28]!==n?(f=a=>n("status",a.target.value),e[28]=n,e[29]=f):f=e[29];let $;e[30]===Symbol.for("react.memo_cache_sentinel")?($=t.jsx("option",{value:"",children:"Semua Status"}),e[30]=$):$=e[30];let h;e[31]!==H?(h=H.map(ae),e[31]=H,e[32]=h):h=e[32];let y;e[33]!==P||e[34]!==f||e[35]!==h?(y=t.jsxs("select",{value:P,onChange:f,className:"px-4 py-2.5 rounded-xl border border-gray-200 bg-gray-50 text-sm",children:[$,h]}),e[33]=P,e[34]=f,e[35]=h,e[36]=y):y=e[36];let b;e[37]!==m||e[38]!==g||e[39]!==y?(b=t.jsxs("div",{className:"flex flex-wrap gap-3 mb-6",children:[m,g,y]}),e[37]=m,e[38]=g,e[39]=y,e[40]=b):b=e[40];let T;e[41]===Symbol.for("react.memo_cache_sentinel")?(T=t.jsx("thead",{children:t.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100",children:[t.jsx("th",{className:"text-left px-5 py-3 font-bold text-gray-500 text-xs uppercase",children:"No. Reg"}),t.jsx("th",{className:"text-left px-5 py-3 font-bold text-gray-500 text-xs uppercase",children:"Nama"}),t.jsx("th",{className:"text-left px-5 py-3 font-bold text-gray-500 text-xs uppercase",children:"Gelombang"}),t.jsx("th",{className:"text-left px-5 py-3 font-bold text-gray-500 text-xs uppercase",children:"Status"}),t.jsx("th",{className:"text-left px-5 py-3 font-bold text-gray-500 text-xs uppercase",children:"Bayar"}),t.jsx("th",{className:"text-center px-5 py-3 font-bold text-gray-500 text-xs uppercase",children:"Aksi"})]})}),e[41]=T):T=e[41];let j;e[42]!==l.data||e[43]!==r?(j=l.data.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:6,className:"px-5 py-12 text-center text-gray-400",children:"Tidak ada data"})}):l.data.map(a=>{const U=a.invoices.every(te),F=a.invoices.some(ee);return t.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[t.jsx("td",{className:"px-5 py-3 font-mono text-xs text-gray-500",children:a.registration_number}),t.jsxs("td",{className:"px-5 py-3",children:[t.jsx("p",{className:"font-bold text-gray-800",children:a.name}),t.jsx("p",{className:"text-xs text-gray-400",children:a.gender==="l"?"Laki-laki":"Perempuan"})]}),t.jsx("td",{className:"px-5 py-3 text-gray-600",children:a.admission_wave?.name}),t.jsx("td",{className:"px-5 py-3",children:t.jsx("span",{className:`text-xs font-bold px-2.5 py-1 rounded-full ${X[a.status]||"bg-gray-100 text-gray-600"}`,children:a.status.replace(/_/g," ").replace(/\b\w/g,Z)})}),t.jsx("td",{className:"px-5 py-3",children:a.invoices.length===0?t.jsx("span",{className:"text-xs text-gray-300",children:"—"}):U?t.jsx("span",{className:"text-xs font-bold text-green-600",children:"✓ Lunas"}):F?t.jsx("span",{className:"text-xs font-bold text-yellow-600",children:"Belum Lunas"}):t.jsx("span",{className:"text-xs text-gray-400",children:"—"})}),t.jsx("td",{className:"px-5 py-3 text-center",children:t.jsxs(z,{href:`/${r}/candidates/${a.id}`,className:"inline-flex items-center gap-1 text-emerald-600 hover:text-emerald-700 text-xs font-medium bg-emerald-50 px-3 py-1.5 rounded-lg hover:bg-emerald-100 transition-colors",children:[t.jsx(W,{size:14})," Detail"]})})]},a.id)}),e[42]=l.data,e[43]=r,e[44]=j):j=e[44];let N;e[45]!==j?(N=t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-sm",children:[T,t.jsx("tbody",{className:"divide-y divide-gray-50",children:j})]})}),e[45]=j,e[46]=N):N=e[46];let v;e[47]!==l.current_page||e[48]!==l.last_page||e[49]!==l.links?(v=l.last_page>1&&t.jsxs("div",{className:"flex items-center justify-between px-5 py-3 border-t border-gray-100 bg-gray-50",children:[t.jsxs("span",{className:"text-xs text-gray-500",children:["Halaman ",l.current_page," dari ",l.last_page]}),t.jsx("div",{className:"flex gap-1",children:l.links.map(Y)})]}),e[47]=l.current_page,e[48]=l.last_page,e[49]=l.links,e[50]=v):v=e[50];let _;e[51]!==N||e[52]!==v?(_=t.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 overflow-hidden",children:[N,v]}),e[51]=N,e[52]=v,e[53]=_):_=e[53];let D;return e[54]!==r||e[55]!==b||e[56]!==_||e[57]!==d||e[58]!==x?(D=t.jsxs(t.Fragment,{children:[k,t.jsxs(J,{navGroups:d,sidebarVariant:"light",institutionCode:r,children:[x,b,_]})]}),e[54]=r,e[55]=b,e[56]=_,e[57]=d,e[58]=x,e[59]=D):D=e[59],D}function Y(s,e){return s.url?t.jsx(z,{href:s.url,className:`px-3 py-1 rounded text-xs font-medium ${s.active?"bg-emerald-600 text-white":"bg-white text-gray-600 hover:bg-gray-100"}`,preserveState:!0,dangerouslySetInnerHTML:{__html:s.label}},e):null}function Z(s){return s.toUpperCase()}function ee(s){return s.status==="belum_lunas"}function te(s){return s.status==="lunas"}function ae(s){return t.jsx("option",{value:s.value,children:s.label},s.value)}function se(s){return t.jsx("option",{value:s.id,children:s.name},s.id)}export{fe as default};
